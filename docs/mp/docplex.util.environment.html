

<!doctype html>

<html lang="en">
  <head>
    <meta charset="iso-8859-1" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>docplex.util.environment module &#8212; DOcplex.MP: Mathematical Programming Modeling for Python V2.29 documentation</title>
    <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=fa44fd50" />
    <link rel="stylesheet" type="text/css" href="_static/bizstyle.css?v=c92c1228" />
    
    <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js?v=588fc259"></script>
    <script src="_static/doctools.js?v=888ff710"></script>
    <script src="_static/sphinx_highlight.js?v=4825356b"></script>
    <script src="_static/bizstyle.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="prev" title="docplex.util.csv_utils module" href="docplex.util.csv_utils.html" />
    <meta name="viewport" content="width=device-width,initial-scale=1.0" />
    <!--[if lt IE 9]>
    <script src="_static/css3-mediaqueries.js"></script>
    <![endif]-->
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="docplex.util.csv_utils.html" title="docplex.util.csv_utils module"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">DOcplex.MP: Mathematical Programming Modeling for Python V2.29 documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="refman.html" accesskey="U"><strong>docplex.mp</strong> reference manual</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">docplex.util.environment module</a></li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <section id="docplex-util-environment-module">
<h1>docplex.util.environment module<a class="headerlink" href="#docplex-util-environment-module" title="Permalink to this heading">&para;</a></h1>
<div class="toctree-wrapper compound">
</div>
<span class="target" id="module-docplex.util.environment"></span><p>Representation of the DOcplex solving environment.</p>
<p>This module handles the various elements that allow an
optimization program to run independently from the solving environment.
This environment may be:</p>
<blockquote>
<div><ul class="simple">
<li><p>on premise, using a local version of CPLEX Optimization Studio to solve MP problems, or</p></li>
<li><p>on Watson Machine Learning, with the Python program running inside the Python Worker.</p></li>
<li><p>on Decision Optimization in Watson Machine Learning.</p></li>
</ul>
</div></blockquote>
<p>As much as possible, the adaptation to the solving environment is
automatic. The functions that are presented here are useful for handling
very specific use cases.</p>
<p>The following code is a program that sums its input (<code class="docutils literal notranslate"><span class="pre">sum.py</span></code>):</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">json</span>
<span class="kn">import</span> <span class="nn">docplex.util.environment</span> <span class="k">as</span> <span class="nn">environment</span>

<span class="nb">sum</span> <span class="o">=</span> <span class="mi">0</span>
<span class="c1"># open program input named &quot;data.txt&quot; and sum the contents</span>
<span class="k">with</span> <span class="n">environment</span><span class="o">.</span><span class="n">get_input_stream</span><span class="p">(</span><span class="s2">&quot;data.txt&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="nb">input</span><span class="p">:</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">input</span><span class="o">.</span><span class="n">read</span><span class="p">()</span><span class="o">.</span><span class="n">split</span><span class="p">():</span>
        <span class="nb">sum</span> <span class="o">+=</span> <span class="nb">int</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
<span class="c1"># write the result as a simple json in program output &quot;solution.json&quot;</span>
<span class="k">with</span> <span class="n">environment</span><span class="o">.</span><span class="n">get_output_stream</span><span class="p">(</span><span class="s2">&quot;solution.json&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">output</span><span class="p">:</span>
    <span class="n">output</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">({</span><span class="s1">&#39;result&#39;</span><span class="p">:</span> <span class="nb">sum</span><span class="p">}))</span>
</pre></div>
</div>
<p>Let&#8217;s put some data in a <code class="docutils literal notranslate"><span class="pre">data.txt</span></code> file:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mi">4</span> <span class="mi">7</span> <span class="mi">8</span>
<span class="mi">19</span>
</pre></div>
</div>
<p>When you run <code class="docutils literal notranslate"><span class="pre">sum.py</span></code> with a Python interpreter, it opens the <code class="docutils literal notranslate"><span class="pre">data.txt</span></code> file and sums all of the integers
in that file. The result is saved as a JSON fragment in file <code class="docutils literal notranslate"><span class="pre">solution.json</span></code>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ python sum.py
$ more solution.json
{&quot;result&quot;: 38}
</pre></div>
</div>
<p>Environment representation can be accessed with different ways:</p>
<blockquote>
<div><ul>
<li><p>direct object method calls, after retrieving an instance using
<a class="reference internal" href="#docplex.util.environment.get_environment" title="docplex.util.environment.get_environment"><code class="xref py py-meth docutils literal notranslate"><span class="pre">docplex.util.environment.get_environment()</span></code></a> and using methods of
<a class="reference internal" href="#docplex.util.environment.Environment" title="docplex.util.environment.Environment"><code class="xref py py-class docutils literal notranslate"><span class="pre">docplex.util.environment.Environment</span></code></a>.</p></li>
<li><dl>
<dt>using the function in package <cite>docplex.util.environment</cite>. They will call</dt><dd><p>the corresponding methods of Environment in the platform
<cite>default_environment</cite>:</p>
<blockquote>
<div><ul class="simple">
<li><p><a class="reference internal" href="#docplex.util.environment.get_input_stream" title="docplex.util.environment.get_input_stream"><code class="xref py py-meth docutils literal notranslate"><span class="pre">docplex.util.environment.get_input_stream()</span></code></a></p></li>
<li><p><a class="reference internal" href="#docplex.util.environment.get_output_stream" title="docplex.util.environment.get_output_stream"><code class="xref py py-meth docutils literal notranslate"><span class="pre">docplex.util.environment.get_output_stream()</span></code></a></p></li>
<li><p><a class="reference internal" href="#docplex.util.environment.read_df" title="docplex.util.environment.read_df"><code class="xref py py-meth docutils literal notranslate"><span class="pre">docplex.util.environment.read_df()</span></code></a></p></li>
<li><p><a class="reference internal" href="#docplex.util.environment.write_df" title="docplex.util.environment.write_df"><code class="xref py py-meth docutils literal notranslate"><span class="pre">docplex.util.environment.write_df()</span></code></a></p></li>
<li><p><a class="reference internal" href="#docplex.util.environment.get_available_core_count" title="docplex.util.environment.get_available_core_count"><code class="xref py py-meth docutils literal notranslate"><span class="pre">docplex.util.environment.get_available_core_count()</span></code></a></p></li>
<li><p><a class="reference internal" href="#docplex.util.environment.get_parameter" title="docplex.util.environment.get_parameter"><code class="xref py py-meth docutils literal notranslate"><span class="pre">docplex.util.environment.get_parameter()</span></code></a></p></li>
<li><p><a class="reference internal" href="#docplex.util.environment.update_solve_details" title="docplex.util.environment.update_solve_details"><code class="xref py py-meth docutils literal notranslate"><span class="pre">docplex.util.environment.update_solve_details()</span></code></a></p></li>
<li><p><a class="reference internal" href="#docplex.util.environment.add_abort_callback" title="docplex.util.environment.add_abort_callback"><code class="xref py py-meth docutils literal notranslate"><span class="pre">docplex.util.environment.add_abort_callback()</span></code></a></p></li>
<li><p><a class="reference internal" href="#docplex.util.environment.remove_abort_callback" title="docplex.util.environment.remove_abort_callback"><code class="xref py py-meth docutils literal notranslate"><span class="pre">docplex.util.environment.remove_abort_callback()</span></code></a></p></li>
</ul>
</div></blockquote>
</dd>
</dl>
</li>
</ul>
</div></blockquote>
<dl class="py class">
<dt class="sig sig-object py" id="docplex.util.environment.AbstractLocalEnvironment">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">docplex.util.environment.</span></span><span class="sig-name descname"><span class="pre">AbstractLocalEnvironment</span></span><a class="reference internal" href="_modules/docplex/util/environment.html#AbstractLocalEnvironment"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#docplex.util.environment.AbstractLocalEnvironment" title="Permalink to this definition">&para;</a></dt>
<dd><p>Bases: <a class="reference internal" href="#docplex.util.environment.Environment" title="docplex.util.environment.Environment"><code class="xref py py-class docutils literal notranslate"><span class="pre">Environment</span></code></a></p>
<dl class="py method">
<dt class="sig sig-object py" id="docplex.util.environment.AbstractLocalEnvironment.get_available_core_count">
<span class="sig-name descname"><span class="pre">get_available_core_count</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/docplex/util/environment.html#AbstractLocalEnvironment.get_available_core_count"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#docplex.util.environment.AbstractLocalEnvironment.get_available_core_count" title="Permalink to this definition">&para;</a></dt>
<dd><p>Returns the number of cores available for processing if the environment
sets a limit.</p>
<p>This number is used in the solving engine as the number of threads.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>The available number of cores or <code class="docutils literal notranslate"><span class="pre">None</span></code> if the environment does not
limit the number of cores.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="docplex.util.environment.AbstractLocalEnvironment.get_input_stream">
<span class="sig-name descname"><span class="pre">get_input_stream</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/docplex/util/environment.html#AbstractLocalEnvironment.get_input_stream"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#docplex.util.environment.AbstractLocalEnvironment.get_input_stream" title="Permalink to this definition">&para;</a></dt>
<dd><p>Get an input of the program as a stream (file-like object).</p>
<p>An input of the program is a file that is available in the working directory.</p>
<p>When run on Watson Machine Learning, all input attachments are copied to the working directory before
the program is run. <code class="docutils literal notranslate"><span class="pre">get_input_stream</span></code> lets you open the input attachments of the job.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>name</strong> &#8211; Name of the input object.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A file object to read the input from.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="docplex.util.environment.AbstractLocalEnvironment.get_output_stream">
<span class="sig-name descname"><span class="pre">get_output_stream</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">transaction</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/docplex/util/environment.html#AbstractLocalEnvironment.get_output_stream"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#docplex.util.environment.AbstractLocalEnvironment.get_output_stream" title="Permalink to this definition">&para;</a></dt>
<dd><p>Get a file-like object to write the output of the program.</p>
<p>The file is recorded as being part of the program output.
This method can be called multiple times if the program contains
multiple output objects.</p>
<p>When run on premise, the output of the program is written as files in
the working directory. When run on Watson Machine Learning, the files are attached
as output attachments.</p>
<p>The stream is opened in binary mode, and will accept 8 bits data.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> &#8211; Name of the output object.</p></li>
<li><p><strong>transaction</strong> (<em>optional</em>) &#8211; The transaction handler. Can be ignored if the environment does not support
transactions.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A file object to write the output to.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="docplex.util.environment.AbstractLocalEnvironment.get_parameter">
<span class="sig-name descname"><span class="pre">get_parameter</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/docplex/util/environment.html#AbstractLocalEnvironment.get_parameter"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#docplex.util.environment.AbstractLocalEnvironment.get_parameter" title="Permalink to this definition">&para;</a></dt>
<dd><p>Returns a parameter of the program.</p>
<p>on Watson Machine Learning, this method returns the job parameter whose name is specified.
On local solver, this method returns the environment variable whose name is specified.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>name</strong> &#8211; The name of the parameter.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The parameter whose name is specified or None if the parameter does
not exists.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="docplex.util.environment.AbstractLocalEnvironment.get_parameters">
<span class="sig-name descname"><span class="pre">get_parameters</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/docplex/util/environment.html#AbstractLocalEnvironment.get_parameters"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#docplex.util.environment.AbstractLocalEnvironment.get_parameters" title="Permalink to this definition">&para;</a></dt>
<dd><p>Returns a dict containing all parameters of the program.</p>
<p>on Watson Machine Learning, this method returns the job parameters.
On local solver, this method returns <code class="docutils literal notranslate"><span class="pre">os.environ</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>The job parameters</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="docplex.util.environment.AbstractLocalEnvironment.set_output_attachment">
<span class="sig-name descname"><span class="pre">set_output_attachment</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filename</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/docplex/util/environment.html#AbstractLocalEnvironment.set_output_attachment"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#docplex.util.environment.AbstractLocalEnvironment.set_output_attachment" title="Permalink to this definition">&para;</a></dt>
<dd><p>Attach the file which filename is specified as an output of the
program.</p>
<p>The file is recorded as being part of the program output.
This method can be called multiple times if the program contains
multiple output objects.</p>
<p>When run on premise, <code class="docutils literal notranslate"><span class="pre">filename</span></code> is copied to the the working
directory (if not already there) under the name <code class="docutils literal notranslate"><span class="pre">name</span></code>.</p>
<p>When run on Watson Machine Learning, the file is attached as output attachment.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> &#8211; Name of the output object.</p></li>
<li><p><strong>filename</strong> &#8211; The name of the file to attach.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="docplex.util.environment.AbstractLocalEnvironment.set_output_attachments">
<span class="sig-name descname"><span class="pre">set_output_attachments</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">attachments</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/docplex/util/environment.html#AbstractLocalEnvironment.set_output_attachments"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#docplex.util.environment.AbstractLocalEnvironment.set_output_attachments" title="Permalink to this definition">&para;</a></dt>
<dd><p>Sets the output attachments.</p>
<p>Attachments are recorded as being part of the program output.</p>
<p>Each attachment is a pair of <cite>name</cite>,`filename` entries.</p>
<p>When run on premise, <code class="docutils literal notranslate"><span class="pre">filename</span></code> is copied to the the working
directory (if not already there) under the name <code class="docutils literal notranslate"><span class="pre">name</span></code>.</p>
<p>When run on Watson Machine Learning, attachments are set as output.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>attachments</strong> &#8211; a dict with pairs of <cite>name</cite>,`filename` association.</p>
</dd>
</dl>
<p><em>New in version 2.26</em></p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="docplex.util.environment.Environment">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">docplex.util.environment.</span></span><span class="sig-name descname"><span class="pre">Environment</span></span><a class="reference internal" href="_modules/docplex/util/environment.html#Environment"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#docplex.util.environment.Environment" title="Permalink to this definition">&para;</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Methods for interacting with the execution environment.</p>
<p>Internally, the <code class="docutils literal notranslate"><span class="pre">docplex</span></code> package provides the appropriate implementation
according to the actual execution environment.
The correct instance of this class is returned by the method
<a class="reference internal" href="#docplex.util.environment.get_environment" title="docplex.util.environment.get_environment"><code class="xref py py-meth docutils literal notranslate"><span class="pre">docplex.util.environment.get_environment()</span></code></a> that is provided in this
module.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="docplex.util.environment.Environment.abort_callbacks">
<span class="sig-name descname"><span class="pre">abort_callbacks</span></span><a class="headerlink" href="#docplex.util.environment.Environment.abort_callbacks" title="Permalink to this definition">&para;</a></dt>
<dd><p>A list of callbacks that are called when the script is
run on Watson Machine Learning and a job abort operation is requested. You
add your own callback using:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">env</span><span class="o">.</span><span class="n">abort_callbacks</span> <span class="o">+=</span> <span class="p">[</span><span class="n">your_cb</span><span class="p">]</span>
</pre></div>
</div>
<p>or:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">env</span><span class="o">.</span><span class="n">abort_callbacks</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">your_cb</span><span class="p">)</span>
</pre></div>
</div>
<p>You remove a callback using:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">env</span><span class="o">.</span><span class="n">abort_callbacks</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="n">your_cb</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="docplex.util.environment.Environment.solution_storage_handler">
<span class="sig-name descname"><span class="pre">solution_storage_handler</span></span><a class="headerlink" href="#docplex.util.environment.Environment.solution_storage_handler" title="Permalink to this definition">&para;</a></dt>
<dd><p>A function called when a solution is to be
stored. The storage handler is a function which first argument is
the <a class="reference internal" href="#docplex.util.environment.Environment" title="docplex.util.environment.Environment"><code class="xref py py-class docutils literal notranslate"><span class="pre">Environment</span></code></a> on which a solution should be saved. The
<cite>solution</cite> is a dict containing all the data for an optimization
solution. The default is <a class="reference internal" href="#docplex.util.environment.default_solution_storage_handler" title="docplex.util.environment.default_solution_storage_handler"><code class="xref py py-meth docutils literal notranslate"><span class="pre">default_solution_storage_handler()</span></code></a>.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="docplex.util.environment.Environment.record_history_fields">
<span class="sig-name descname"><span class="pre">record_history_fields</span></span><a class="headerlink" href="#docplex.util.environment.Environment.record_history_fields" title="Permalink to this definition">&para;</a></dt>
<dd><p>Fields which history is to be kept</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="docplex.util.environment.Environment.record_history_size">
<span class="sig-name descname"><span class="pre">record_history_size</span></span><a class="headerlink" href="#docplex.util.environment.Environment.record_history_size" title="Permalink to this definition">&para;</a></dt>
<dd><p>maximum number of records in history</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="docplex.util.environment.Environment.record_interval">
<span class="sig-name descname"><span class="pre">record_interval</span></span><a class="headerlink" href="#docplex.util.environment.Environment.record_interval" title="Permalink to this definition">&para;</a></dt>
<dd><p>min time between to history records</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="docplex.util.environment.Environment.create_transaction">
<span class="sig-name descname"><span class="pre">create_transaction</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/docplex/util/environment.html#Environment.create_transaction"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#docplex.util.environment.Environment.create_transaction" title="Permalink to this definition">&para;</a></dt>
<dd><p>Creates a new output attachment transaction
:return: an OutputAttachmentTransaction</p>
<p><em>New in version 2.26</em></p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="docplex.util.environment.Environment.get_available_core_count">
<span class="sig-name descname"><span class="pre">get_available_core_count</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/docplex/util/environment.html#Environment.get_available_core_count"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#docplex.util.environment.Environment.get_available_core_count" title="Permalink to this definition">&para;</a></dt>
<dd><p>Returns the number of cores available for processing if the environment
sets a limit.</p>
<p>This number is used in the solving engine as the number of threads.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>The available number of cores or <code class="docutils literal notranslate"><span class="pre">None</span></code> if the environment does not
limit the number of cores.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="docplex.util.environment.Environment.get_engine_log_level">
<span class="sig-name descname"><span class="pre">get_engine_log_level</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/docplex/util/environment.html#Environment.get_engine_log_level"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#docplex.util.environment.Environment.get_engine_log_level" title="Permalink to this definition">&para;</a></dt>
<dd><p>Returns the engine log level as set by job parameter oaas.engineLogLevel.</p>
<p>oaas.engineLogLevel values are: OFF, SEVERE, WARNING, INFO, CONFIG, FINE, FINER, FINEST, ALL</p>
<p>The mapping to logging levels in python are:</p>
<blockquote>
<div><ul class="simple">
<li><p>OFF: None</p></li>
<li><p>SEVERE: logging.ERROR</p></li>
<li><p>WARNING: logging.WARNING</p></li>
<li><p>INFO, CONFIG: logging.INFO</p></li>
<li><p>FINE, FINER, FINEST: logging.DEBUG</p></li>
<li><p>ALL: logging.DEBUG</p></li>
</ul>
</div></blockquote>
<p>All other values are considered invalid values and will return None.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>The logging level or None if not set (off)</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="docplex.util.environment.Environment.get_input_stream">
<span class="sig-name descname"><span class="pre">get_input_stream</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/docplex/util/environment.html#Environment.get_input_stream"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#docplex.util.environment.Environment.get_input_stream" title="Permalink to this definition">&para;</a></dt>
<dd><p>Get an input of the program as a stream (file-like object).</p>
<p>An input of the program is a file that is available in the working directory.</p>
<p>When run on Watson Machine Learning, all input attachments are copied to the working directory before
the program is run. <code class="docutils literal notranslate"><span class="pre">get_input_stream</span></code> lets you open the input attachments of the job.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>name</strong> &#8211; Name of the input object.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A file object to read the input from.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="docplex.util.environment.Environment.get_output_stream">
<span class="sig-name descname"><span class="pre">get_output_stream</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">transaction</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/docplex/util/environment.html#Environment.get_output_stream"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#docplex.util.environment.Environment.get_output_stream" title="Permalink to this definition">&para;</a></dt>
<dd><p>Get a file-like object to write the output of the program.</p>
<p>The file is recorded as being part of the program output.
This method can be called multiple times if the program contains
multiple output objects.</p>
<p>When run on premise, the output of the program is written as files in
the working directory. When run on Watson Machine Learning, the files are attached
as output attachments.</p>
<p>The stream is opened in binary mode, and will accept 8 bits data.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> &#8211; Name of the output object.</p></li>
<li><p><strong>transaction</strong> (<em>optional</em>) &#8211; The transaction handler. Can be ignored if the environment does not support
transactions.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A file object to write the output to.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="docplex.util.environment.Environment.get_parameter">
<span class="sig-name descname"><span class="pre">get_parameter</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/docplex/util/environment.html#Environment.get_parameter"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#docplex.util.environment.Environment.get_parameter" title="Permalink to this definition">&para;</a></dt>
<dd><p>Returns a parameter of the program.</p>
<p>on Watson Machine Learning, this method returns the job parameter whose name is specified.
On local solver, this method returns the environment variable whose name is specified.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>name</strong> &#8211; The name of the parameter.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The parameter whose name is specified or None if the parameter does
not exists.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="docplex.util.environment.Environment.get_parameters">
<span class="sig-name descname"><span class="pre">get_parameters</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/docplex/util/environment.html#Environment.get_parameters"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#docplex.util.environment.Environment.get_parameters" title="Permalink to this definition">&para;</a></dt>
<dd><p>Returns a dict containing all parameters of the program.</p>
<p>on Watson Machine Learning, this method returns the job parameters.
On local solver, this method returns <code class="docutils literal notranslate"><span class="pre">os.environ</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>The job parameters</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="docplex.util.environment.Environment.get_stop_callback">
<span class="sig-name descname"><span class="pre">get_stop_callback</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/docplex/util/environment.html#Environment.get_stop_callback"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#docplex.util.environment.Environment.get_stop_callback" title="Permalink to this definition">&para;</a></dt>
<dd><p>Returns the stop callback that is called when the script is run on
DOcplexcloud and a job abort operation is requested.</p>
<p>You can also use the <code class="docutils literal notranslate"><span class="pre">stop_callback</span></code> property to get the callback.</p>
<p>Deprecated since 2.4 - Use the abort_callbacks property instead&#8217;)</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="docplex.util.environment.Environment.is_debug_mode">
<span class="sig-name descname"><span class="pre">is_debug_mode</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/docplex/util/environment.html#Environment.is_debug_mode"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#docplex.util.environment.Environment.is_debug_mode" title="Permalink to this definition">&para;</a></dt>
<dd><p>Returns true if the engine should run in debug mode.</p>
<p>This is equivalent to <code class="docutils literal notranslate"><span class="pre">env.get_engine_log_level()</span> <span class="pre">&lt;=</span> <span class="pre">logging.DEBUG</span></code></p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="docplex.util.environment.Environment.publish_solve_details">
<span class="sig-name descname"><span class="pre">publish_solve_details</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">details</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">transaction</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/docplex/util/environment.html#Environment.publish_solve_details"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#docplex.util.environment.Environment.publish_solve_details" title="Permalink to this definition">&para;</a></dt>
<dd><p>Actually publish the solve specified details.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>The published details</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="docplex.util.environment.Environment.read_df">
<span class="sig-name descname"><span class="pre">read_df</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">reader</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/docplex/util/environment.html#Environment.read_df"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#docplex.util.environment.Environment.read_df" title="Permalink to this definition">&para;</a></dt>
<dd><p>Reads an input of the program as a <code class="docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code>.</p>
<p><code class="docutils literal notranslate"><span class="pre">pandas</span></code> must be installed.</p>
<p><code class="docutils literal notranslate"><span class="pre">name</span></code> is the name of the input object, as a filename. If a reader
is not user provided, the reader used depends on the filename extension.</p>
<p>The default reader used depending on extension are:</p>
<blockquote>
<div><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">.csv</span></code>: <code class="docutils literal notranslate"><span class="pre">pandas.read_csv()</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">.msg</span></code>: <code class="docutils literal notranslate"><span class="pre">pandas.read_msgpack()</span></code></p></li>
</ul>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> &#8211; The name of the input object</p></li>
<li><p><strong>reader</strong> &#8211; an optional reader function</p></li>
<li><p><strong>**kwargs</strong> &#8211; additional parameters passed to the reader</p></li>
</ul>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference internal" href="#docplex.util.environment.NotAvailableError" title="docplex.util.environment.NotAvailableError"><strong>NotAvailableError</strong></a> &#8211; raises this error when <code class="docutils literal notranslate"><span class="pre">pandas</span></code> is not
    available.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="docplex.util.environment.Environment.set_output_attachment">
<span class="sig-name descname"><span class="pre">set_output_attachment</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filename</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/docplex/util/environment.html#Environment.set_output_attachment"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#docplex.util.environment.Environment.set_output_attachment" title="Permalink to this definition">&para;</a></dt>
<dd><p>Attach the file which filename is specified as an output of the
program.</p>
<p>The file is recorded as being part of the program output.
This method can be called multiple times if the program contains
multiple output objects.</p>
<p>When run on premise, <code class="docutils literal notranslate"><span class="pre">filename</span></code> is copied to the the working
directory (if not already there) under the name <code class="docutils literal notranslate"><span class="pre">name</span></code>.</p>
<p>When run on Watson Machine Learning, the file is attached as output attachment.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> &#8211; Name of the output object.</p></li>
<li><p><strong>filename</strong> &#8211; The name of the file to attach.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="docplex.util.environment.Environment.set_output_attachments">
<span class="sig-name descname"><span class="pre">set_output_attachments</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">attachments</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/docplex/util/environment.html#Environment.set_output_attachments"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#docplex.util.environment.Environment.set_output_attachments" title="Permalink to this definition">&para;</a></dt>
<dd><p>Sets the output attachments.</p>
<p>Attachments are recorded as being part of the program output.</p>
<p>Each attachment is a pair of <cite>name</cite>,`filename` entries.</p>
<p>When run on premise, <code class="docutils literal notranslate"><span class="pre">filename</span></code> is copied to the the working
directory (if not already there) under the name <code class="docutils literal notranslate"><span class="pre">name</span></code>.</p>
<p>When run on Watson Machine Learning, attachments are set as output.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>attachments</strong> &#8211; a dict with pairs of <cite>name</cite>,`filename` association.</p>
</dd>
</dl>
<p><em>New in version 2.26</em></p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="docplex.util.environment.Environment.set_stop_callback">
<span class="sig-name descname"><span class="pre">set_stop_callback</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cb</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/docplex/util/environment.html#Environment.set_stop_callback"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#docplex.util.environment.Environment.set_stop_callback" title="Permalink to this definition">&para;</a></dt>
<dd><p>Sets a callback that is called when the script is run on
DOcplexcloud and a job abort operation is requested.</p>
<p>You can also use the <code class="docutils literal notranslate"><span class="pre">stop_callback</span></code> property to set the callback.</p>
<p>Deprecated since 2.4 - Use self.abort_callbacks += [cb] instead&#8217;</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>cb</strong> &#8211; The callback function</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="docplex.util.environment.Environment.stop_callback">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">stop_callback</span></span><a class="headerlink" href="#docplex.util.environment.Environment.stop_callback" title="Permalink to this definition">&para;</a></dt>
<dd><p>Returns the stop callback that is called when the script is run on
DOcplexcloud and a job abort operation is requested.</p>
<p>You can also use the <code class="docutils literal notranslate"><span class="pre">stop_callback</span></code> property to get the callback.</p>
<p>Deprecated since 2.4 - Use the abort_callbacks property instead&#8217;)</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="docplex.util.environment.Environment.store_solution">
<span class="sig-name descname"><span class="pre">store_solution</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">solution</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/docplex/util/environment.html#Environment.store_solution"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#docplex.util.environment.Environment.store_solution" title="Permalink to this definition">&para;</a></dt>
<dd><p>Stores the specified solution.</p>
<p>This method guarantees that the solution is fully saved if the model
is running on Watson Machine Learning python worker and an abort of the job is
triggered.</p>
<p>For each (key, value) pairs of the solution, the default solution
storage handler does the following depending of the type of <cite>value</cite>, in
the following order:</p>
<ul class="simple">
<li><p>If <cite>value</cite> is a <cite>pandas.DataFrame</cite>, then the data frame is saved
as an output with the specified <cite>name</cite>. Note that <cite>name</cite> must include
an extension file for the serialization. See
<a class="reference internal" href="#docplex.util.environment.Environment.write_df" title="docplex.util.environment.Environment.write_df"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Environment.write_df()</span></code></a> for supported formats.</p></li>
<li><p>If <cite>value</cite> is a <cite>bytes</cite>, it is saved as binary data with <cite>name</cite>.</p></li>
<li><p>The <cite>value</cite> is saved as an output with the <cite>name</cite>, after it has been
converted to JSON.</p></li>
</ul>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>solution</strong> &#8211; a dict containing the solution.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="docplex.util.environment.Environment.update_solve_details">
<span class="sig-name descname"><span class="pre">update_solve_details</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">details</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">transaction</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/docplex/util/environment.html#Environment.update_solve_details"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#docplex.util.environment.Environment.update_solve_details" title="Permalink to this definition">&para;</a></dt>
<dd><p>Update the solve details.</p>
<p>You use this method to send solve details to the solve service.
If <code class="docutils literal notranslate"><span class="pre">context.solver.auto_publish</span></code> is set, the underlying
solver will automatically update solve details once the solve has
finished.</p>
<p>This method might filter details and publish them with rate limitations.
It actually publish de details by calling <cite>publish_solve_details</cite>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>details</strong> &#8211; A <code class="docutils literal notranslate"><span class="pre">dict</span></code> with solve details as key/value pairs.</p></li>
<li><p><strong>transaction</strong> &#8211; The transaction to publish output attachments</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="docplex.util.environment.Environment.write_df">
<span class="sig-name descname"><span class="pre">write_df</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">writer</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/docplex/util/environment.html#Environment.write_df"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#docplex.util.environment.Environment.write_df" title="Permalink to this definition">&para;</a></dt>
<dd><p>Write a <code class="docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code> as an output of the program.</p>
<p><code class="docutils literal notranslate"><span class="pre">pandas</span></code> must be installed.</p>
<p><code class="docutils literal notranslate"><span class="pre">name</span></code> is the name of the input object, as a filename. If a writer
is not user provided, the writer used depends on the filename extension.</p>
<p>This currently only supports csv output.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> &#8211; The name of the input object</p></li>
<li><p><strong>writer</strong> &#8211; an optional writer function</p></li>
<li><p><strong>**kwargs</strong> &#8211; additional parameters passed to the writer</p></li>
</ul>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference internal" href="#docplex.util.environment.NotAvailableError" title="docplex.util.environment.NotAvailableError"><strong>NotAvailableError</strong></a> &#8211; raises this error when <code class="docutils literal notranslate"><span class="pre">pandas</span></code> is not
    available.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="docplex.util.environment.LocalEnvironment">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">docplex.util.environment.</span></span><span class="sig-name descname"><span class="pre">LocalEnvironment</span></span><a class="reference internal" href="_modules/docplex/util/environment.html#LocalEnvironment"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#docplex.util.environment.LocalEnvironment" title="Permalink to this definition">&para;</a></dt>
<dd><p>Bases: <a class="reference internal" href="#docplex.util.environment.AbstractLocalEnvironment" title="docplex.util.environment.AbstractLocalEnvironment"><code class="xref py py-class docutils literal notranslate"><span class="pre">AbstractLocalEnvironment</span></code></a></p>
</dd></dl>

<dl class="py exception">
<dt class="sig sig-object py" id="docplex.util.environment.NotAvailableError">
<em class="property"><span class="pre">exception</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">docplex.util.environment.</span></span><span class="sig-name descname"><span class="pre">NotAvailableError</span></span><a class="reference internal" href="_modules/docplex/util/environment.html#NotAvailableError"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#docplex.util.environment.NotAvailableError" title="Permalink to this definition">&para;</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">Exception</span></code></p>
<p>The exception raised when a feature is not available</p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="docplex.util.environment.OutputAttachmentTransaction">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">docplex.util.environment.</span></span><span class="sig-name descname"><span class="pre">OutputAttachmentTransaction</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">env</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/docplex/util/environment.html#OutputAttachmentTransaction"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#docplex.util.environment.OutputAttachmentTransaction" title="Permalink to this definition">&para;</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Handles output attachment transactions</p>
<p><em>New in version 2.26</em></p>
<dl class="py method">
<dt class="sig sig-object py" id="docplex.util.environment.OutputAttachmentTransaction.close">
<span class="sig-name descname"><span class="pre">close</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/docplex/util/environment.html#OutputAttachmentTransaction.close"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#docplex.util.environment.OutputAttachmentTransaction.close" title="Permalink to this definition">&para;</a></dt>
<dd><p>Closes the transaction, actually setting all the attachments at once.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="docplex.util.environment.OutputAttachmentTransaction.commit">
<span class="sig-name descname"><span class="pre">commit</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/docplex/util/environment.html#OutputAttachmentTransaction.commit"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#docplex.util.environment.OutputAttachmentTransaction.commit" title="Permalink to this definition">&para;</a></dt>
<dd><p>Commit the attachments waiting to be publushed.
:return:</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="docplex.util.environment.OutputAttachmentTransaction.set_output_attachments">
<span class="sig-name descname"><span class="pre">set_output_attachments</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">attachments</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/docplex/util/environment.html#OutputAttachmentTransaction.set_output_attachments"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#docplex.util.environment.OutputAttachmentTransaction.set_output_attachments" title="Permalink to this definition">&para;</a></dt>
<dd><p>Adds new attachments to this transaction</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="docplex.util.environment.OverrideEnvironment">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">docplex.util.environment.</span></span><span class="sig-name descname"><span class="pre">OverrideEnvironment</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">new_env</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/docplex/util/environment.html#OverrideEnvironment"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#docplex.util.environment.OverrideEnvironment" title="Permalink to this definition">&para;</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Allows to temporarily replace the default environment.</p>
<p>If the override environment is None, nothing happens and the default
environment is not replaced</p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="docplex.util.environment.SolveDetailsFilter">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">docplex.util.environment.</span></span><span class="sig-name descname"><span class="pre">SolveDetailsFilter</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">interval</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/docplex/util/environment.html#SolveDetailsFilter"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#docplex.util.environment.SolveDetailsFilter" title="Permalink to this definition">&para;</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Default solve detail filter class.</p>
<p>This default class filters details so that there are no more than 1 solve
details per second.</p>
<dl class="py method">
<dt class="sig sig-object py" id="docplex.util.environment.SolveDetailsFilter.filter">
<span class="sig-name descname"><span class="pre">filter</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">details</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/docplex/util/environment.html#SolveDetailsFilter.filter"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#docplex.util.environment.SolveDetailsFilter.filter" title="Permalink to this definition">&para;</a></dt>
<dd><p>Filters the details.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>True if the details are to be published.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="docplex.util.environment.add_abort_callback">
<span class="sig-prename descclassname"><span class="pre">docplex.util.environment.</span></span><span class="sig-name descname"><span class="pre">add_abort_callback</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cb</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/docplex/util/environment.html#add_abort_callback"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#docplex.util.environment.add_abort_callback" title="Permalink to this definition">&para;</a></dt>
<dd><p>Adds the specified callback to the default environment.</p>
<p>The abort callback is called when the script is run on
DOcplexcloud and a job abort operation is requested.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>cb</strong> &#8211; The abort callback</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="docplex.util.environment.default_solution_storage_handler">
<span class="sig-prename descclassname"><span class="pre">docplex.util.environment.</span></span><span class="sig-name descname"><span class="pre">default_solution_storage_handler</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">env</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">solution</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/docplex/util/environment.html#default_solution_storage_handler"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#docplex.util.environment.default_solution_storage_handler" title="Permalink to this definition">&para;</a></dt>
<dd><p>The default solution storage handler.</p>
<p>The storage handler is a function which first argument is the
<a class="reference internal" href="#docplex.util.environment.Environment" title="docplex.util.environment.Environment"><code class="xref py py-class docutils literal notranslate"><span class="pre">Environment</span></code></a> on which a solution should be saved. The <cite>solution</cite>
is a dict containing all the data for an optimization solution.</p>
<p>The storage handler is responsible for storing the solution in the
environment.</p>
<p>For each (key, value) pairs of the solution, the default solution storage
handler does the following depending of the type of <cite>value</cite>, in the
following order:</p>
<blockquote>
<div><ul class="simple">
<li><p>If <cite>value</cite> is a <cite>pandas.DataFrame</cite>, then the data frame is saved
as an output with the specified <cite>name</cite>. Note that <cite>name</cite> must include
an extension file for the serialization. See
<a class="reference internal" href="#docplex.util.environment.Environment.write_df" title="docplex.util.environment.Environment.write_df"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Environment.write_df()</span></code></a> for supported formats.</p></li>
<li><p>If <cite>value</cite> is a <cite>bytes</cite>, it is saved as binary data with <cite>name</cite>.</p></li>
<li><p>The <cite>value</cite> is saved as an output with the <cite>name</cite>, after it has been
converted to JSON.</p></li>
</ul>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>env</strong> &#8211; The <a class="reference internal" href="#docplex.util.environment.Environment" title="docplex.util.environment.Environment"><code class="xref py py-class docutils literal notranslate"><span class="pre">Environment</span></code></a></p></li>
<li><p><strong>solution</strong> &#8211; a dict containing the solution.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="docplex.util.environment.get_available_core_count">
<span class="sig-prename descclassname"><span class="pre">docplex.util.environment.</span></span><span class="sig-name descname"><span class="pre">get_available_core_count</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/docplex/util/environment.html#get_available_core_count"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#docplex.util.environment.get_available_core_count" title="Permalink to this definition">&para;</a></dt>
<dd><p>Returns the number of cores available for processing if the environment
sets a limit, with the default environment.</p>
<p>This number is used in the solving engine as the number of threads.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>The available number of cores or <code class="docutils literal notranslate"><span class="pre">None</span></code> if the environment does not
limit the number of cores.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="docplex.util.environment.get_environment">
<span class="sig-prename descclassname"><span class="pre">docplex.util.environment.</span></span><span class="sig-name descname"><span class="pre">get_environment</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/docplex/util/environment.html#get_environment"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#docplex.util.environment.get_environment" title="Permalink to this definition">&para;</a></dt>
<dd><p>Returns the Environment object that represents the actual execution
environment.</p>
<p>Note: the default environment is the value of the
<code class="docutils literal notranslate"><span class="pre">docplex.util.environment.default_environment</span></code> property.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>An instance of the <a class="reference internal" href="#docplex.util.environment.Environment" title="docplex.util.environment.Environment"><code class="xref py py-class docutils literal notranslate"><span class="pre">Environment</span></code></a> class that implements methods
corresponding to actual execution environment.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="docplex.util.environment.get_input_stream">
<span class="sig-prename descclassname"><span class="pre">docplex.util.environment.</span></span><span class="sig-name descname"><span class="pre">get_input_stream</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/docplex/util/environment.html#get_input_stream"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#docplex.util.environment.get_input_stream" title="Permalink to this definition">&para;</a></dt>
<dd><p>Get an input of the program as a stream (file-like object),
with the default environment.</p>
<p>An input of the program is a file that is available in the working directory.</p>
<p>When run on Watson Machine Learning, all input attachments are copied to the working directory before
the program is run. <code class="docutils literal notranslate"><span class="pre">get_input_stream</span></code> lets you open the input attachments of the job.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>name</strong> &#8211; Name of the input object.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A file object to read the input from.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="docplex.util.environment.get_output_stream">
<span class="sig-prename descclassname"><span class="pre">docplex.util.environment.</span></span><span class="sig-name descname"><span class="pre">get_output_stream</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">transaction</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/docplex/util/environment.html#get_output_stream"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#docplex.util.environment.get_output_stream" title="Permalink to this definition">&para;</a></dt>
<dd><p>Get a file-like object to write the output of the program.</p>
<p>The file is recorded as being part of the program output.
This method can be called multiple times if the program contains
multiple output objects.</p>
<p>When run on premise, the output of the program is written as files in
the working directory. When run on Watson Machine Learning, the files are attached
as output attachments.</p>
<p>The stream is opened in binary mode, and will accept 8 bits data.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> &#8211; Name of the output object.</p></li>
<li><p><strong>transaction</strong> (<em>optional</em>) &#8211; The transaction handler. Can be ignored if the environment does not support
transactions.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A file object to write the output to.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="docplex.util.environment.get_parameter">
<span class="sig-prename descclassname"><span class="pre">docplex.util.environment.</span></span><span class="sig-name descname"><span class="pre">get_parameter</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/docplex/util/environment.html#get_parameter"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#docplex.util.environment.get_parameter" title="Permalink to this definition">&para;</a></dt>
<dd><p>Returns a parameter of the program, with the default environment.</p>
<p>on Watson Machine Learning, this method returns the job parameter whose name is specified.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>name</strong> &#8211; The name of the parameter.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The parameter whose name is specified.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="docplex.util.environment.make_attachment_name">
<span class="sig-prename descclassname"><span class="pre">docplex.util.environment.</span></span><span class="sig-name descname"><span class="pre">make_attachment_name</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/docplex/util/environment.html#make_attachment_name"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#docplex.util.environment.make_attachment_name" title="Permalink to this definition">&para;</a></dt>
<dd><p>From <cite>name</cite>, create an attachment name that is correct for DOcplexcloud.</p>
<p>Attachment filenames in DOcplexcloud has certain restrictions. A file name:</p>
<blockquote>
<div><ul class="simple">
<li><p>is limited to 255 characters;</p></li>
<li><p>can include only ASCII characters;</p></li>
<li><p>cannot include the characters <cite>/?%*:|&#8221;&lt;&gt;</cite>, the space character, or the null character; and</p></li>
<li><p>cannot include _ as the first character.</p></li>
</ul>
</div></blockquote>
<p>This method replace all unauthorized characters with _, then removing leading
&#8216;_&#8217;.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>name</strong> &#8211; The original attachment name</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>An attachment name that conforms to the restrictions.</p>
</dd>
<dt class="field-odd">Raises<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>ValueError if the attachment name is more than 255 characters</strong> &#8211; </p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="docplex.util.environment.maketrans">
<span class="sig-prename descclassname"><span class="pre">docplex.util.environment.</span></span><span class="sig-name descname"><span class="pre">maketrans</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#docplex.util.environment.maketrans" title="Permalink to this definition">&para;</a></dt>
<dd><p>Return a translation table usable for str.translate().</p>
<p>If there is only one argument, it must be a dictionary mapping Unicode
ordinals (integers) or characters to Unicode ordinals, strings or None.
Character keys will be then converted to ordinals.
If there are two arguments, they must be strings of equal length, and
in the resulting dictionary, each character in x will be mapped to the
character at the same position in y. If there is a third argument, it
must be a string, whose characters will be mapped to None in the result.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="docplex.util.environment.read_df">
<span class="sig-prename descclassname"><span class="pre">docplex.util.environment.</span></span><span class="sig-name descname"><span class="pre">read_df</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">reader</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/docplex/util/environment.html#read_df"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#docplex.util.environment.read_df" title="Permalink to this definition">&para;</a></dt>
<dd><p>Reads an input of the program as a <code class="docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code> with the
default environment.</p>
<p><code class="docutils literal notranslate"><span class="pre">pandas</span></code> must be installed.</p>
<p><code class="docutils literal notranslate"><span class="pre">name</span></code> is the name of the input object, as a filename. If a reader
is not user provided, the reader used depends on the filename extension.</p>
<p>The default reader used depending on extension are:</p>
<blockquote>
<div><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">.csv</span></code>: <code class="docutils literal notranslate"><span class="pre">pandas.read_csv()</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">.msg</span></code>: <code class="docutils literal notranslate"><span class="pre">pandas.read_msgpack()</span></code></p></li>
</ul>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> &#8211; The name of the input object</p></li>
<li><p><strong>reader</strong> &#8211; an optional reader function</p></li>
<li><p><strong>**kwargs</strong> &#8211; additional parameters passed to the reader</p></li>
</ul>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference internal" href="#docplex.util.environment.NotAvailableError" title="docplex.util.environment.NotAvailableError"><strong>NotAvailableError</strong></a> &#8211; raises this error when <code class="docutils literal notranslate"><span class="pre">pandas</span></code> is not
    available.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="docplex.util.environment.remove_abort_callback">
<span class="sig-prename descclassname"><span class="pre">docplex.util.environment.</span></span><span class="sig-name descname"><span class="pre">remove_abort_callback</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cb</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/docplex/util/environment.html#remove_abort_callback"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#docplex.util.environment.remove_abort_callback" title="Permalink to this definition">&para;</a></dt>
<dd><p>Adds the specified callback to the default environment.</p>
<p>The abort callback is called when the script is run on
DOcplexcloud and a job abort operation is requested.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>cb</strong> &#8211; The abort callback</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="docplex.util.environment.set_output_attachment">
<span class="sig-prename descclassname"><span class="pre">docplex.util.environment.</span></span><span class="sig-name descname"><span class="pre">set_output_attachment</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filename</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/docplex/util/environment.html#set_output_attachment"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#docplex.util.environment.set_output_attachment" title="Permalink to this definition">&para;</a></dt>
<dd><p>Attach the file which filename is specified as an output of the
program.</p>
<p>The file is recorded as being part of the program output.
This method can be called multiple times if the program contains
multiple output objects.</p>
<p>When run on premise, <code class="docutils literal notranslate"><span class="pre">filename</span></code> is copied to the the working
directory (if not already there) under the name <code class="docutils literal notranslate"><span class="pre">name</span></code>.</p>
<p>When run on Watson Machine Learning, the file is attached as output attachment.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> &#8211; Name of the output object.</p></li>
<li><p><strong>filename</strong> &#8211; The name of the file to attach.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="docplex.util.environment.set_output_attachments">
<span class="sig-prename descclassname"><span class="pre">docplex.util.environment.</span></span><span class="sig-name descname"><span class="pre">set_output_attachments</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">attachments</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/docplex/util/environment.html#set_output_attachments"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#docplex.util.environment.set_output_attachments" title="Permalink to this definition">&para;</a></dt>
<dd><p>Sets the specified attachments</p>
<p>The attachments are recorded as being part of the program output.</p>
<p>The <cite>attachments</cite> are a dict of <cite>name</cite> to <cite>filename</cite> mapping.</p>
<p>When run on premise, filenames are copied to the working
directory (if not already there) under the names.</p>
<p>When run on Watson Machine Learning, the files are attached as output attachment.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>attachments</strong> &#8211; a dict of <cite>name</cite>:<cite>filename</cite> mapping</p>
</dd>
</dl>
<p><em>New in version 2.26</em></p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="docplex.util.environment.translate">
<span class="sig-prename descclassname"><span class="pre">docplex.util.environment.</span></span><span class="sig-name descname"><span class="pre">translate</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">table</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">/</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#docplex.util.environment.translate" title="Permalink to this definition">&para;</a></dt>
<dd><p>Replace each character in the string using the given translation table.</p>
<blockquote>
<div><dl class="simple">
<dt>table</dt><dd><p>Translation table, which must be a mapping of Unicode ordinals to
Unicode ordinals, strings, or None.</p>
</dd>
</dl>
</div></blockquote>
<p>The table must implement lookup/indexing via __getitem__, for instance a
dictionary or list.  If this operation raises LookupError, the character is
left untouched.  Characters mapped to None are deleted.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="docplex.util.environment.update_solve_details">
<span class="sig-prename descclassname"><span class="pre">docplex.util.environment.</span></span><span class="sig-name descname"><span class="pre">update_solve_details</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">details</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/docplex/util/environment.html#update_solve_details"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#docplex.util.environment.update_solve_details" title="Permalink to this definition">&para;</a></dt>
<dd><p>Update the solve details, with the default environment</p>
<p>You use this method to send solve details to the DOcplexcloud service.
If <code class="docutils literal notranslate"><span class="pre">context.solver.auto_publish</span></code> is set, the underlying
solver will automatically update solve details once the solve has
finished.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>details</strong> &#8211; A <code class="docutils literal notranslate"><span class="pre">dict</span></code> with solve details as key/value pairs.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="docplex.util.environment.write_df">
<span class="sig-prename descclassname"><span class="pre">docplex.util.environment.</span></span><span class="sig-name descname"><span class="pre">write_df</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">writer</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/docplex/util/environment.html#write_df"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#docplex.util.environment.write_df" title="Permalink to this definition">&para;</a></dt>
<dd><p>Write a <code class="docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code> as an output of the program with the
default environment.</p>
<p><code class="docutils literal notranslate"><span class="pre">pandas</span></code> must be installed.</p>
<p><code class="docutils literal notranslate"><span class="pre">name</span></code> is the name of the input object, as a filename. If a writer
is not user provided, the writer used depends on the filename extension.</p>
<p>The default writer used depending on extension are:</p>
<blockquote>
<div><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">.csv</span></code>: <code class="docutils literal notranslate"><span class="pre">DataFrame.to_csv()</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">.msg</span></code>: <code class="docutils literal notranslate"><span class="pre">DataFrame.to_msgpack()</span></code></p></li>
</ul>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> &#8211; The name of the input object</p></li>
<li><p><strong>writer</strong> &#8211; an optional writer function</p></li>
<li><p><strong>**kwargs</strong> &#8211; additional parameters passed to the writer</p></li>
</ul>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference internal" href="#docplex.util.environment.NotAvailableError" title="docplex.util.environment.NotAvailableError"><strong>NotAvailableError</strong></a> &#8211; raises this error when <code class="docutils literal notranslate"><span class="pre">pandas</span></code> is not
    available.</p>
</dd>
</dl>
</dd></dl>

</section>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <div>
    <h3><a href="index.html">Table of Contents</a></h3>
    <ul>
<li><a class="reference internal" href="#">docplex.util.environment module</a><ul>
<li><a class="reference internal" href="#docplex.util.environment.AbstractLocalEnvironment"><code class="docutils literal notranslate"><span class="pre">AbstractLocalEnvironment</span></code></a><ul>
<li><a class="reference internal" href="#docplex.util.environment.AbstractLocalEnvironment.get_available_core_count"><code class="docutils literal notranslate"><span class="pre">AbstractLocalEnvironment.get_available_core_count()</span></code></a></li>
<li><a class="reference internal" href="#docplex.util.environment.AbstractLocalEnvironment.get_input_stream"><code class="docutils literal notranslate"><span class="pre">AbstractLocalEnvironment.get_input_stream()</span></code></a></li>
<li><a class="reference internal" href="#docplex.util.environment.AbstractLocalEnvironment.get_output_stream"><code class="docutils literal notranslate"><span class="pre">AbstractLocalEnvironment.get_output_stream()</span></code></a></li>
<li><a class="reference internal" href="#docplex.util.environment.AbstractLocalEnvironment.get_parameter"><code class="docutils literal notranslate"><span class="pre">AbstractLocalEnvironment.get_parameter()</span></code></a></li>
<li><a class="reference internal" href="#docplex.util.environment.AbstractLocalEnvironment.get_parameters"><code class="docutils literal notranslate"><span class="pre">AbstractLocalEnvironment.get_parameters()</span></code></a></li>
<li><a class="reference internal" href="#docplex.util.environment.AbstractLocalEnvironment.set_output_attachment"><code class="docutils literal notranslate"><span class="pre">AbstractLocalEnvironment.set_output_attachment()</span></code></a></li>
<li><a class="reference internal" href="#docplex.util.environment.AbstractLocalEnvironment.set_output_attachments"><code class="docutils literal notranslate"><span class="pre">AbstractLocalEnvironment.set_output_attachments()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#docplex.util.environment.Environment"><code class="docutils literal notranslate"><span class="pre">Environment</span></code></a><ul>
<li><a class="reference internal" href="#docplex.util.environment.Environment.abort_callbacks"><code class="docutils literal notranslate"><span class="pre">Environment.abort_callbacks</span></code></a></li>
<li><a class="reference internal" href="#docplex.util.environment.Environment.solution_storage_handler"><code class="docutils literal notranslate"><span class="pre">Environment.solution_storage_handler</span></code></a></li>
<li><a class="reference internal" href="#docplex.util.environment.Environment.record_history_fields"><code class="docutils literal notranslate"><span class="pre">Environment.record_history_fields</span></code></a></li>
<li><a class="reference internal" href="#docplex.util.environment.Environment.record_history_size"><code class="docutils literal notranslate"><span class="pre">Environment.record_history_size</span></code></a></li>
<li><a class="reference internal" href="#docplex.util.environment.Environment.record_interval"><code class="docutils literal notranslate"><span class="pre">Environment.record_interval</span></code></a></li>
<li><a class="reference internal" href="#docplex.util.environment.Environment.create_transaction"><code class="docutils literal notranslate"><span class="pre">Environment.create_transaction()</span></code></a></li>
<li><a class="reference internal" href="#docplex.util.environment.Environment.get_available_core_count"><code class="docutils literal notranslate"><span class="pre">Environment.get_available_core_count()</span></code></a></li>
<li><a class="reference internal" href="#docplex.util.environment.Environment.get_engine_log_level"><code class="docutils literal notranslate"><span class="pre">Environment.get_engine_log_level()</span></code></a></li>
<li><a class="reference internal" href="#docplex.util.environment.Environment.get_input_stream"><code class="docutils literal notranslate"><span class="pre">Environment.get_input_stream()</span></code></a></li>
<li><a class="reference internal" href="#docplex.util.environment.Environment.get_output_stream"><code class="docutils literal notranslate"><span class="pre">Environment.get_output_stream()</span></code></a></li>
<li><a class="reference internal" href="#docplex.util.environment.Environment.get_parameter"><code class="docutils literal notranslate"><span class="pre">Environment.get_parameter()</span></code></a></li>
<li><a class="reference internal" href="#docplex.util.environment.Environment.get_parameters"><code class="docutils literal notranslate"><span class="pre">Environment.get_parameters()</span></code></a></li>
<li><a class="reference internal" href="#docplex.util.environment.Environment.get_stop_callback"><code class="docutils literal notranslate"><span class="pre">Environment.get_stop_callback()</span></code></a></li>
<li><a class="reference internal" href="#docplex.util.environment.Environment.is_debug_mode"><code class="docutils literal notranslate"><span class="pre">Environment.is_debug_mode()</span></code></a></li>
<li><a class="reference internal" href="#docplex.util.environment.Environment.publish_solve_details"><code class="docutils literal notranslate"><span class="pre">Environment.publish_solve_details()</span></code></a></li>
<li><a class="reference internal" href="#docplex.util.environment.Environment.read_df"><code class="docutils literal notranslate"><span class="pre">Environment.read_df()</span></code></a></li>
<li><a class="reference internal" href="#docplex.util.environment.Environment.set_output_attachment"><code class="docutils literal notranslate"><span class="pre">Environment.set_output_attachment()</span></code></a></li>
<li><a class="reference internal" href="#docplex.util.environment.Environment.set_output_attachments"><code class="docutils literal notranslate"><span class="pre">Environment.set_output_attachments()</span></code></a></li>
<li><a class="reference internal" href="#docplex.util.environment.Environment.set_stop_callback"><code class="docutils literal notranslate"><span class="pre">Environment.set_stop_callback()</span></code></a></li>
<li><a class="reference internal" href="#docplex.util.environment.Environment.stop_callback"><code class="docutils literal notranslate"><span class="pre">Environment.stop_callback</span></code></a></li>
<li><a class="reference internal" href="#docplex.util.environment.Environment.store_solution"><code class="docutils literal notranslate"><span class="pre">Environment.store_solution()</span></code></a></li>
<li><a class="reference internal" href="#docplex.util.environment.Environment.update_solve_details"><code class="docutils literal notranslate"><span class="pre">Environment.update_solve_details()</span></code></a></li>
<li><a class="reference internal" href="#docplex.util.environment.Environment.write_df"><code class="docutils literal notranslate"><span class="pre">Environment.write_df()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#docplex.util.environment.LocalEnvironment"><code class="docutils literal notranslate"><span class="pre">LocalEnvironment</span></code></a></li>
<li><a class="reference internal" href="#docplex.util.environment.NotAvailableError"><code class="docutils literal notranslate"><span class="pre">NotAvailableError</span></code></a></li>
<li><a class="reference internal" href="#docplex.util.environment.OutputAttachmentTransaction"><code class="docutils literal notranslate"><span class="pre">OutputAttachmentTransaction</span></code></a><ul>
<li><a class="reference internal" href="#docplex.util.environment.OutputAttachmentTransaction.close"><code class="docutils literal notranslate"><span class="pre">OutputAttachmentTransaction.close()</span></code></a></li>
<li><a class="reference internal" href="#docplex.util.environment.OutputAttachmentTransaction.commit"><code class="docutils literal notranslate"><span class="pre">OutputAttachmentTransaction.commit()</span></code></a></li>
<li><a class="reference internal" href="#docplex.util.environment.OutputAttachmentTransaction.set_output_attachments"><code class="docutils literal notranslate"><span class="pre">OutputAttachmentTransaction.set_output_attachments()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#docplex.util.environment.OverrideEnvironment"><code class="docutils literal notranslate"><span class="pre">OverrideEnvironment</span></code></a></li>
<li><a class="reference internal" href="#docplex.util.environment.SolveDetailsFilter"><code class="docutils literal notranslate"><span class="pre">SolveDetailsFilter</span></code></a><ul>
<li><a class="reference internal" href="#docplex.util.environment.SolveDetailsFilter.filter"><code class="docutils literal notranslate"><span class="pre">SolveDetailsFilter.filter()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#docplex.util.environment.add_abort_callback"><code class="docutils literal notranslate"><span class="pre">add_abort_callback()</span></code></a></li>
<li><a class="reference internal" href="#docplex.util.environment.default_solution_storage_handler"><code class="docutils literal notranslate"><span class="pre">default_solution_storage_handler()</span></code></a></li>
<li><a class="reference internal" href="#docplex.util.environment.get_available_core_count"><code class="docutils literal notranslate"><span class="pre">get_available_core_count()</span></code></a></li>
<li><a class="reference internal" href="#docplex.util.environment.get_environment"><code class="docutils literal notranslate"><span class="pre">get_environment()</span></code></a></li>
<li><a class="reference internal" href="#docplex.util.environment.get_input_stream"><code class="docutils literal notranslate"><span class="pre">get_input_stream()</span></code></a></li>
<li><a class="reference internal" href="#docplex.util.environment.get_output_stream"><code class="docutils literal notranslate"><span class="pre">get_output_stream()</span></code></a></li>
<li><a class="reference internal" href="#docplex.util.environment.get_parameter"><code class="docutils literal notranslate"><span class="pre">get_parameter()</span></code></a></li>
<li><a class="reference internal" href="#docplex.util.environment.make_attachment_name"><code class="docutils literal notranslate"><span class="pre">make_attachment_name()</span></code></a></li>
<li><a class="reference internal" href="#docplex.util.environment.maketrans"><code class="docutils literal notranslate"><span class="pre">maketrans()</span></code></a></li>
<li><a class="reference internal" href="#docplex.util.environment.read_df"><code class="docutils literal notranslate"><span class="pre">read_df()</span></code></a></li>
<li><a class="reference internal" href="#docplex.util.environment.remove_abort_callback"><code class="docutils literal notranslate"><span class="pre">remove_abort_callback()</span></code></a></li>
<li><a class="reference internal" href="#docplex.util.environment.set_output_attachment"><code class="docutils literal notranslate"><span class="pre">set_output_attachment()</span></code></a></li>
<li><a class="reference internal" href="#docplex.util.environment.set_output_attachments"><code class="docutils literal notranslate"><span class="pre">set_output_attachments()</span></code></a></li>
<li><a class="reference internal" href="#docplex.util.environment.translate"><code class="docutils literal notranslate"><span class="pre">translate()</span></code></a></li>
<li><a class="reference internal" href="#docplex.util.environment.update_solve_details"><code class="docutils literal notranslate"><span class="pre">update_solve_details()</span></code></a></li>
<li><a class="reference internal" href="#docplex.util.environment.write_df"><code class="docutils literal notranslate"><span class="pre">write_df()</span></code></a></li>
</ul>
</li>
</ul>

  </div>
  <div>
    <h4>Previous topic</h4>
    <p class="topless"><a href="docplex.util.csv_utils.html"
                          title="previous chapter">docplex.util.csv_utils module</a></p>
  </div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>document.getElementById('searchbox').style.display = "block"</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="docplex.util.csv_utils.html" title="docplex.util.csv_utils module"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">DOcplex.MP: Mathematical Programming Modeling for Python V2.29 documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="refman.html" ><strong>docplex.mp</strong> reference manual</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">docplex.util.environment module</a></li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
    &#169; Copyright 2016-2022, IBM&reg;.
    </div>
  </body>
</html>