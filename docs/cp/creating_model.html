

<!doctype html>

<html lang="en">
  <head>
    <meta charset="iso-8859-1" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Creating a constraint programming model &#8212; DOcplex.CP: Constraint Programming Modeling for Python V2.28 documentation</title>
    <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=fa44fd50" />
    <link rel="stylesheet" type="text/css" href="_static/bizstyle.css?v=c92c1228" />
    
    <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js?v=3c40121d"></script>
    <script src="_static/doctools.js?v=888ff710"></script>
    <script src="_static/sphinx_highlight.js?v=4825356b"></script>
    <script src="_static/bizstyle.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Examples of constraint programming" href="samples.html" />
    <link rel="prev" title="Getting started with constraint programming in DOcplex" href="getting_started.html" />
    <meta name="viewport" content="width=device-width,initial-scale=1.0" />
    <!--[if lt IE 9]>
    <script src="_static/css3-mediaqueries.js"></script>
    <![endif]-->
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="samples.html" title="Examples of constraint programming"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="getting_started.html" title="Getting started with constraint programming in DOcplex"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">DOcplex.CP: Constraint Programming Modeling for Python V2.28 documentation</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">Creating a constraint programming model</a></li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <section id="creating-a-constraint-programming-model">
<h1>Creating a constraint programming model<a class="headerlink" href="#creating-a-constraint-programming-model" title="Permalink to this heading">&para;</a></h1>
<p>Building a model requires:</p>
<blockquote>
<div><ul class="simple">
<li><p>building unitary model expressions and</p></li>
<li><p>assembling them into a model.</p></li>
</ul>
</div></blockquote>
<p>The <a class="reference internal" href="samples.html"><span class="doc">examples</span></a> can be used as starting point to create a new model.</p>
<p>The detailed documentation of the Python API for <em>docplex.cp</em> is available <a class="reference internal" href="refman.html"><span class="doc">here</span></a>.</p>
<section id="build-model-expressions">
<h2>Build model expressions<a class="headerlink" href="#build-model-expressions" title="Permalink to this heading">&para;</a></h2>
<p>The <em>CP Optimizer</em> expression elements are implemented in the Python modules located in <code class="docutils literal notranslate"><span class="pre">docplex/cp</span></code>.
Basic elements are described in the module <a class="reference internal" href="docplex.cp.expression.py.html"><span class="doc">expression.py</span></a>, which contains:</p>
<blockquote>
<div><ul class="simple">
<li><p>the class <em>CpoExpr</em> that is the root class for all <em>CP Optimizer</em> expressions,</p></li>
<li><p>one class for each type of variable (<em>CpoIntVar</em>, <em>CpoIntervalVar</em>, <em>CpoSequenceVar</em>), and</p></li>
<li><p>one class per each other object type (<em>CpoTupleSet</em>, <em>CpoTransitionMatrix</em>).</p></li>
</ul>
</div></blockquote>
<p>An auxiliary module, <a class="reference internal" href="docplex.cp.function.py.html"><span class="doc">function.py</span></a>, contains classes that represent functions
(<em>CpoStepFunction</em>, <em>CpoSegmentFunction</em>) that are used in scheduling.</p>
<p>These classes should not be used directly to create expression objects.
Instead, the constructor functions defined in <a class="reference internal" href="docplex.cp.expression.py.html"><span class="doc">expression.py</span></a> should be used.</p>
<blockquote>
<div><table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Function</p></th>
<th class="head"><p>Creates</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><em>integer_var()</em></p></td>
<td><p>Single integer variable</p></td>
</tr>
<tr class="row-odd"><td><p><em>integer_var_list()</em></p></td>
<td><p>List of integer variables</p></td>
</tr>
<tr class="row-even"><td><p><em>integer_var_dict()</em></p></td>
<td><p>Dictionary  of integer variables</p></td>
</tr>
<tr class="row-odd"><td><p><em>binary_var()</em></p></td>
<td><p>Single binary variable (integer variable with domain = {0, 1})</p></td>
</tr>
<tr class="row-even"><td><p><em>binary_var_list()</em></p></td>
<td><p>List of binary variables</p></td>
</tr>
<tr class="row-odd"><td><p><em>binary_var_dict()</em></p></td>
<td><p>Dictionary  of binary variables</p></td>
</tr>
<tr class="row-even"><td><p><em>interval_var()</em></p></td>
<td><p>Single interval variable</p></td>
</tr>
<tr class="row-odd"><td><p><em>interval_var_list()</em></p></td>
<td><p>Array of interval variables</p></td>
</tr>
<tr class="row-even"><td><p><em>interval_var_dict()</em></p></td>
<td><p>Dictionary of interval variables</p></td>
</tr>
<tr class="row-odd"><td><p><em>sequence_var()</em></p></td>
<td><p>Sequence variable</p></td>
</tr>
<tr class="row-even"><td><p><em>transition_matrix()</em></p></td>
<td><p>Empty transition matrix</p></td>
</tr>
<tr class="row-odd"><td><p><em>tuple_set()</em></p></td>
<td><p>Tuple set</p></td>
</tr>
<tr class="row-even"><td><p><em>state_function()</em></p></td>
<td><p>State function</p></td>
</tr>
</tbody>
</table>
</div></blockquote>
<p>The <em>CP Optimizer</em> functions for building operations between expressions are available in the module
<a class="reference internal" href="docplex.cp.modeler.py.html"><span class="doc">modeler.py</span></a>, which contains more than 100 specialized functions.
See details of these functions in the API documentation.</p>
<p>We will see later that all the modeling functions can also be invoked as member of the class
<a class="reference internal" href="docplex.cp.model.py.html#docplex.cp.model.CpoModel" title="docplex.cp.model.CpoModel"><code class="xref py py-class docutils literal notranslate"><span class="pre">CpoModel</span></code></a>.
However, there documentation should be see in the modules where they are actually implemented.</p>
<section id="mapping-of-python-objects-to-cp-optimizer-objects">
<h3>Mapping of Python objects to CP Optimizer objects<a class="headerlink" href="#mapping-of-python-objects-to-cp-optimizer-objects" title="Permalink to this heading">&para;</a></h3>
<p>The following Python objects are accepted by the modeling API:</p>
<blockquote>
<div><ul>
<li><p><em>bool</em> objects are converted into boolean constants.</p></li>
<li><p><em>int</em> objects are converted into integer constants.</p></li>
<li><p><em>float</em> objects are converted into float constants.</p></li>
<li><p>if <em>numpy</em> is installed:</p>
<blockquote>
<div><ul class="simple">
<li><p><em>numpy</em> <em>bool_</em> and <em>bool_</em> are converted into boolean constants.</p></li>
<li><p><em>numpy</em> <em>int_</em>, <em>intc</em>, <em>intp</em>, <em>int8</em>, <em>int16</em>, <em>int32</em>, <em>int64</em>, <em>uint8</em>, <em>uint16</em>, <em>uint32</em> and <em>uint64</em>
are converted into integer constants.</p></li>
<li><p><em>numpy</em> <em>float_</em> (for versions before 2.0), <em>float16</em>, <em>float32</em> and <em>float64</em> are converted into float constants.</p></li>
</ul>
</div></blockquote>
</li>
<li><p><em>tuple</em> and <em>list</em> objects are converted into array of expressions.</p></li>
<li><p>if <em>numpy</em> is installed, <em>numpy.ndarray</em> objects are also converted into array of expressions.</p></li>
<li><p>if <em>panda</em> is available, <em>panda.Series</em> objects are also converted into array of expressions.</p></li>
</ul>
</div></blockquote>
<p>Note that all objects that are convertible into arrays are duplicated when the expression is constructed.
An internal cache mechanism is used to retrieve the same CP modeling object when same Python source object
is used several times.</p>
</section>
<section id="special-function-renaming">
<h3>Special function renaming<a class="headerlink" href="#special-function-renaming" title="Permalink to this heading">&para;</a></h3>
<p>The  modeling functions are identified with the same names in the Python API as in the CPO file format, the C++ API, and the Java API.
However, there is an exception for the Boolean operators <em>and</em>, <em>or</em>, and <em>not</em> that are predefined symbols in Python
and cannot be overloaded or used as function names. They are renamed as follows:</p>
<blockquote>
<div><table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>CPO</p></th>
<th class="head"><p>Python</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>and</p></td>
<td><p>logical_and</p></td>
</tr>
<tr class="row-odd"><td><p>or</p></td>
<td><p>logical_or</p></td>
</tr>
<tr class="row-even"><td><p>not</p></td>
<td><p>logical_not</p></td>
</tr>
</tbody>
</table>
</div></blockquote>
<p>Functions that correspond to built-in Python functions <em>abs</em>, <em>min</em>, <em>max</em>, <em>range</em>, <em>round</em>, <em>sum</em>, <em>any</em> and <em>all</em> are
overwritten in a safe way that calls the built-in implementation if none of the parameters are model expressions.
This allows in particular to import all modeling functions at root level, which shorten model writing.
However, this approach of modeling is not recommended. Calling modeling functions on the model object is preferable.</p>
</section>
<section id="operator-overloading">
<h3>Operator overloading<a class="headerlink" href="#operator-overloading" title="Permalink to this heading">&para;</a></h3>
<p>To simplify the writing of a model, Python operators are overloaded to match CP Optimizer operator creation functions.
The following table indicates which function is assigned to which operator.</p>
<blockquote>
<div><table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Operation</p></th>
<th class="head"><p></p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>plus</p></td>
<td><p>+</p></td>
</tr>
<tr class="row-odd"><td><p>minus</p></td>
<td><p>-</p></td>
</tr>
<tr class="row-even"><td><p>unary_minus</p></td>
<td><p>-</p></td>
</tr>
<tr class="row-odd"><td><p>times</p></td>
<td><p>*</p></td>
</tr>
<tr class="row-even"><td><p>mod</p></td>
<td><p>%</p></td>
</tr>
<tr class="row-odd"><td><p>int_div</p></td>
<td><p>//</p></td>
</tr>
<tr class="row-even"><td><p>float_div</p></td>
<td><p>/</p></td>
</tr>
<tr class="row-odd"><td><p>power</p></td>
<td><p>**</p></td>
</tr>
<tr class="row-even"><td><p>equal</p></td>
<td><p>==</p></td>
</tr>
<tr class="row-odd"><td><p>diff</p></td>
<td><p>!=</p></td>
</tr>
<tr class="row-even"><td><p>greater_or_equal</p></td>
<td><p>&gt;=</p></td>
</tr>
<tr class="row-odd"><td><p>less_or_equal</p></td>
<td><p>&lt;=</p></td>
</tr>
<tr class="row-even"><td><p>greater</p></td>
<td><p>&gt;</p></td>
</tr>
<tr class="row-odd"><td><p>less</p></td>
<td><p>&lt;</p></td>
</tr>
<tr class="row-even"><td><p>logical_or</p></td>
<td><p>|</p></td>
</tr>
<tr class="row-odd"><td><p>logical_and</p></td>
<td><p>&amp;</p></td>
</tr>
<tr class="row-even"><td><p>logical_not</p></td>
<td><p>~</p></td>
</tr>
</tbody>
</table>
</div></blockquote>
<p><strong>Caution</strong>: Logical operations <em>and</em>, <em>or</em>, and <em>not</em> are overloaded by using Python <em>binary</em> operators.
These operators have a different priority than usual logical operators.
Make sure to always use parenthesis to avoid any ambiguity.</p>
<p><strong>Caution</strong>: If one number is negative, the modulo operation in CPO has the same behavior than usual programming
languages like C++ or Java, which is not the case in Python.
For example, in Java, 5 % -3 = 2, and -5 % 3 = -2. In Python, 5 % -3 = -1 and -5 % 3 = 1.
See <a class="reference external" href="https://en.wikipedia.org/wiki/Modulo_operation">Wikipedia - Modulo operation</a> for details.</p>
</section>
</section>
<section id="build-a-model">
<h2>Build a model<a class="headerlink" href="#build-a-model" title="Permalink to this heading">&para;</a></h2>
<p>The model is represented by the class <em>CpoModel</em> implemented in the module <a class="reference internal" href="docplex.cp.model.py.html"><span class="doc">model.py</span></a>.</p>
<p>An expression is added to the model by calling the method <em>add()</em> with the expression as the parameter.</p>
<section id="quickest-modeling-approach">
<h3>Quickest modeling approach<a class="headerlink" href="#quickest-modeling-approach" title="Permalink to this heading">&para;</a></h3>
<p>Following is a condensed example of the NQueen problem that uses the shortest way of modeling.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">docplex.cp.model</span> <span class="kn">import</span> <span class="o">*</span>
<span class="n">NB_QUEEN</span> <span class="o">=</span> <span class="mi">8</span>
<span class="n">mdl</span> <span class="o">=</span> <span class="n">CpoModel</span><span class="p">()</span>
<span class="n">x</span> <span class="o">=</span> <span class="n">integer_var_list</span><span class="p">(</span><span class="n">NB_QUEEN</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">NB_QUEEN</span> <span class="o">-</span> <span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;X&quot;</span><span class="p">)</span>
<span class="n">mdl</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">all_diff</span><span class="p">(</span><span class="n">x</span><span class="p">))</span>
<span class="n">mdl</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">all_diff</span><span class="p">([</span><span class="n">x</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">+</span> <span class="n">i</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">NB_QUEEN</span><span class="p">)]))</span>
<span class="n">mdl</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">all_diff</span><span class="p">([</span><span class="n">x</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">-</span> <span class="n">i</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">NB_QUEEN</span><span class="p">)]))</span>
</pre></div>
</div>
<p>Note that importing <a class="reference internal" href="docplex.cp.model.py.html"><span class="doc">model.py</span></a> also indirectly imports
<a class="reference internal" href="docplex.cp.expression.py.html"><span class="doc">expression.py</span></a>, <a class="reference internal" href="docplex.cp.modeler.py.html"><span class="doc">modeler.py</span></a>,
<a class="reference internal" href="docplex.cp.function.py.html"><span class="doc">function.py</span></a> and <a class="reference internal" href="docplex.cp.parameters.py.html"><span class="doc">parameters.py</span></a>.</p>
</section>
<section id="use-module-as-a-factory">
<h3>Use module as a factory<a class="headerlink" href="#use-module-as-a-factory" title="Permalink to this heading">&para;</a></h3>
<p>To avoid possible conflict with other modules that may propose similar function names, il is possible to use the
module as a factory by writing:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">docplex.cp.model</span> <span class="k">as</span> <span class="nn">cp</span>
<span class="n">NB_QUEEN</span> <span class="o">=</span> <span class="mi">8</span>
<span class="n">mdl</span> <span class="o">=</span> <span class="n">cp</span><span class="o">.</span><span class="n">CpoModel</span><span class="p">()</span>
<span class="n">x</span> <span class="o">=</span> <span class="n">cp</span><span class="o">.</span><span class="n">integer_var_list</span><span class="p">(</span><span class="n">NB_QUEEN</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">NB_QUEEN</span> <span class="o">-</span> <span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;X&quot;</span><span class="p">)</span>
<span class="n">mdl</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">cp</span><span class="o">.</span><span class="n">all_diff</span><span class="p">(</span><span class="n">x</span><span class="p">))</span>
<span class="n">mdl</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">cp</span><span class="o">.</span><span class="n">all_diff</span><span class="p">([</span><span class="n">x</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">+</span> <span class="n">i</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">NB_QUEEN</span><span class="p">)]))</span>
<span class="n">mdl</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">cp</span><span class="o">.</span><span class="n">all_diff</span><span class="p">([</span><span class="n">x</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">-</span> <span class="n">i</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">NB_QUEEN</span><span class="p">)]))</span>
</pre></div>
</div>
</section>
<section id="use-model-object-as-a-factory">
<h3>Use model object as a factory<a class="headerlink" href="#use-model-object-as-a-factory" title="Permalink to this heading">&para;</a></h3>
<p>All functions creating model expressions that are made available by module
<a class="reference internal" href="docplex.cp.model.py.html"><span class="doc">model.py</span></a> (that itself embed functions from
<a class="reference internal" href="docplex.cp.expression.py.html"><span class="doc">expression.py</span></a> and <a class="reference internal" href="docplex.cp.modeler.py.html"><span class="doc">modeler.py</span></a>) are also
available directly at <em>CpoModel</em> object level.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">docplex.cp.model</span> <span class="kn">import</span> <span class="n">CpoModel</span>
<span class="n">NB_QUEEN</span> <span class="o">=</span> <span class="mi">8</span>
<span class="n">mdl</span> <span class="o">=</span> <span class="n">CpoModel</span><span class="p">()</span>
<span class="n">x</span> <span class="o">=</span> <span class="n">mdl</span><span class="o">.</span><span class="n">integer_var_list</span><span class="p">(</span><span class="n">NB_QUEEN</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">NB_QUEEN</span> <span class="o">-</span> <span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;X&quot;</span><span class="p">)</span>
<span class="n">mdl</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">mdl</span><span class="o">.</span><span class="n">all_diff</span><span class="p">(</span><span class="n">x</span><span class="p">))</span>
<span class="n">mdl</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">mdl</span><span class="o">.</span><span class="n">all_diff</span><span class="p">([</span><span class="n">x</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">+</span> <span class="n">i</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">NB_QUEEN</span><span class="p">)]))</span>
<span class="n">mdl</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">mdl</span><span class="o">.</span><span class="n">all_diff</span><span class="p">([</span><span class="n">x</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">-</span> <span class="n">i</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">NB_QUEEN</span><span class="p">)]))</span>
</pre></div>
</div>
<p>This is the most convenient way of modeling because:</p>
<blockquote>
<div><ul class="simple">
<li><p>it is compatible with docplex.mp modeling that imposes to use model object as factory for every expression creation.</p></li>
<li><p>it eliminates collisions between modeling and builtin functions that have the same name.</p></li>
</ul>
</div></blockquote>
</section>
</section>
</section>
<section id="solving-a-model">
<h1>Solving a model<a class="headerlink" href="#solving-a-model" title="Permalink to this heading">&para;</a></h1>
<p>Solving a model can be done in multiple ways:</p>
<blockquote>
<div><ul class="simple">
<li><p>Using a local solver (default) that is made available by installing <cite>IBM ILOG CPLEX Optimization Studio</cite>
(see <a class="reference external" href="http://www-03.ibm.com/software/products/category/prescriptive-analytics">here</a>),
or its free Community Edition
(see <a class="reference external" href="http://www-01.ibm.com/software/websphere/products/optimization/cplex-studio-community-edition">here</a>).
In this case, the transformation into CPO file format, the submission for solving, and the retrieval of results is done automatically.</p></li>
<li><p>Transform the model into CPO file format to solve it using another application, such as <cite>CP Optimizer Interactive</cite>
that is provided with <cite>CPLEX Optimization Studio</cite>.
A description of how a model in CPO file format can be generated from the model is described in the section
<cite>Generate CPO file</cite>.</p></li>
</ul>
</div></blockquote>
<section id="solve-a-model-with-local-solver">
<h2>Solve a model with local solver<a class="headerlink" href="#solve-a-model-with-local-solver" title="Permalink to this heading">&para;</a></h2>
<p>The default local solving assumes that the installation of <cite>CPLEX Optimization Studio</cite> with a version
greater or equal to 12.7 has been completed correctly and that the <cite>CP Optimizer Interactive</cite> process
is already put in the system path.
You can check this by invoking <code class="docutils literal notranslate"><span class="pre">cpoptimizer(.exe)</span></code> in a command prompt.</p>
<p>Building and solving a model is done as follows:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">mdl</span> <span class="o">=</span> <span class="n">CpoModel</span><span class="p">()</span>
<span class="o">.</span> <span class="o">.</span> <span class="o">.</span> <span class="o">.</span> <span class="o">.</span>
<span class="o">&lt;</span><span class="n">Construction</span> <span class="n">of</span> <span class="n">the</span> <span class="n">model</span><span class="o">&gt;</span>
<span class="o">.</span> <span class="o">.</span> <span class="o">.</span> <span class="o">.</span> <span class="o">.</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Solving model....&quot;</span><span class="p">)</span>
<span class="n">msol</span> <span class="o">=</span> <span class="n">mdl</span><span class="o">.</span><span class="n">solve</span><span class="p">()</span>
<span class="n">msol</span><span class="o">.</span><span class="n">print_solution</span><span class="p">()</span>
</pre></div>
</div>
<p>The method <a class="reference internal" href="docplex.cp.model.py.html#docplex.cp.model.CpoModel.solve" title="docplex.cp.model.CpoModel.solve"><code class="xref py py-meth docutils literal notranslate"><span class="pre">solve()</span></code></a> method returns an object of class
<a class="reference internal" href="docplex.cp.solution.py.html#docplex.cp.solution.CpoSolveResult" title="docplex.cp.solution.CpoSolveResult"><code class="xref py py-class docutils literal notranslate"><span class="pre">CpoSolveResult</span></code></a> that contains the result of solving.
This object is described in the section &#8220;Retrieve results&#8221;.</p>
<p>The method <a class="reference internal" href="docplex.cp.solution.py.html#docplex.cp.solution.CpoSolveResult.write" title="docplex.cp.solution.CpoSolveResult.write"><code class="xref py py-meth docutils literal notranslate"><span class="pre">write()</span></code></a> prints a default view of the status of the
solve and the values of all variables.
The object <a class="reference internal" href="docplex.cp.solution.py.html#docplex.cp.solution.CpoSolveResult" title="docplex.cp.solution.CpoSolveResult"><code class="xref py py-class docutils literal notranslate"><span class="pre">CpoSolveResult</span></code></a> contains all the necessary accessors to create a customized solution output.</p>
<section id="solving-options">
<h3>Solving options<a class="headerlink" href="#solving-options" title="Permalink to this heading">&para;</a></h3>
<p>The method <a class="reference internal" href="docplex.cp.model.py.html#docplex.cp.model.CpoModel.solve" title="docplex.cp.model.CpoModel.solve"><code class="xref py py-meth docutils literal notranslate"><span class="pre">solve()</span></code></a> accepts a variable list of optional named arguments for configuring the solving.
For example:</p>
<blockquote>
<div><ul class="simple">
<li><p><em>context=&lt;solving context&gt;</em>: Complete solving configuration.
If not given, solving context is the default one that is defined in the module <a class="reference internal" href="docplex.cp.config.py.html#module-docplex.cp.config" title="docplex.cp.config"><code class="xref py py-mod docutils literal notranslate"><span class="pre">config</span></code></a>.</p></li>
<li><p><em>params=&lt;solving parameters&gt;</em>: Object of class <a class="reference internal" href="docplex.cp.parameters.py.html#docplex.cp.parameters.CpoParameters" title="docplex.cp.parameters.CpoParameters"><code class="xref py py-class docutils literal notranslate"><span class="pre">CpoParameters</span></code></a> that contains a
complete set of solving parameters (see the section &#8220;Solving parameters&#8221; for more details).</p></li>
<li><p><em>&lt;config attribute&gt;=&lt;value&gt;</em>: Set a particular configuration (context) attribute to the given value</p></li>
<li><p><em>&lt;solving parameters&gt;=&lt;value&gt;</em>: Set a particular solving parameter to the given value</p></li>
</ul>
</div></blockquote>
<p>The list of arguments is not limited. Each named argument is used to replace the leaf attribute that has the same name
in the global configuration initialized in the module <a class="reference internal" href="docplex.cp.config.py.html#module-docplex.cp.config" title="docplex.cp.config"><code class="xref py py-mod docutils literal notranslate"><span class="pre">config</span></code></a> and its specializations.
If the attribute is not found as an existing attribute, it is then used as a solving parameter that is set in
the <em>params</em> subcontext.</p>
</section>
<section id="solving-parameters">
<h3>Solving parameters<a class="headerlink" href="#solving-parameters" title="Permalink to this heading">&para;</a></h3>
<p>Solving parameters can be passed to the solve method either:</p>
<blockquote>
<div><ul class="simple">
<li><p>with an object of class <a class="reference internal" href="docplex.cp.parameters.py.html#docplex.cp.parameters.CpoParameters" title="docplex.cp.parameters.CpoParameters"><code class="xref py py-class docutils literal notranslate"><span class="pre">CpoParameters</span></code></a> assigned to the argument <em>params</em>
as indicated in the previous section, or</p></li>
<li><p>directly as individual parameters.
The names of the parameters are the same as the property exposed in the class <a class="reference internal" href="docplex.cp.parameters.py.html#docplex.cp.parameters.CpoParameters" title="docplex.cp.parameters.CpoParameters"><code class="xref py py-class docutils literal notranslate"><span class="pre">CpoParameters</span></code></a>
declared in the module <a class="reference internal" href="docplex.cp.parameters.py.html"><span class="doc">parameters.py</span></a>.</p></li>
</ul>
</div></blockquote>
<p>For example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">msol</span> <span class="o">=</span> <span class="n">mdl</span><span class="o">.</span><span class="n">solve</span><span class="p">(</span><span class="n">TimeLimit</span><span class="o">=</span><span class="mi">80</span><span class="p">,</span> <span class="n">LogPeriod</span><span class="o">=</span><span class="mi">5000</span><span class="p">)</span>
</pre></div>
</div>
<p>is equivalent to:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">params</span> <span class="o">=</span> <span class="n">CpoParameters</span><span class="p">()</span>
<span class="n">params</span><span class="o">.</span><span class="n">TimeLimit</span> <span class="o">=</span> <span class="mi">80</span>
<span class="n">params</span><span class="o">.</span><span class="n">LogPeriod</span> <span class="o">=</span> <span class="mi">5000</span>
<span class="n">msol</span> <span class="o">=</span> <span class="n">mdl</span><span class="o">.</span><span class="n">solve</span><span class="p">(</span><span class="n">params</span><span class="o">=</span><span class="n">params</span><span class="p">)</span>
</pre></div>
</div>
</section>
</section>
<section id="retrieve-results">
<h2>Retrieve results<a class="headerlink" href="#retrieve-results" title="Permalink to this heading">&para;</a></h2>
<p>Results from the solve are returned in a data structure of the class <a class="reference internal" href="docplex.cp.solution.py.html#docplex.cp.solution.CpoSolveResult" title="docplex.cp.solution.CpoSolveResult"><code class="xref py py-class docutils literal notranslate"><span class="pre">CpoSolveResult</span></code></a>,
implemented in the module <a class="reference internal" href="docplex.cp.solution.py.html"><span class="doc">solution.py</span></a>.
This object contains:</p>
<blockquote>
<div><ul>
<li><p>global model information, such as status of the search, value of the objective(s), and solve time, and</p></li>
<li><p>the value of each variable, by using dedicated objects classes:</p>
<blockquote>
<div><ul class="simple">
<li><p><a class="reference internal" href="docplex.cp.solution.py.html#docplex.cp.solution.CpoIntVarSolution" title="docplex.cp.solution.CpoIntVarSolution"><code class="xref py py-class docutils literal notranslate"><span class="pre">CpoIntVarSolution</span></code></a> for single integer variables,</p></li>
<li><p><a class="reference internal" href="docplex.cp.solution.py.html#docplex.cp.solution.CpoIntervalVarSolution" title="docplex.cp.solution.CpoIntervalVarSolution"><code class="xref py py-class docutils literal notranslate"><span class="pre">CpoIntervalVarSolution</span></code></a> for interval variables,</p></li>
<li><p><a class="reference internal" href="docplex.cp.solution.py.html#docplex.cp.solution.CpoSequenceVarSolution" title="docplex.cp.solution.CpoSequenceVarSolution"><code class="xref py py-class docutils literal notranslate"><span class="pre">CpoSequenceVarSolution</span></code></a> for sequence variables, and</p></li>
<li><p><a class="reference internal" href="docplex.cp.solution.py.html#docplex.cp.solution.CpoStateFunctionSolution" title="docplex.cp.solution.CpoStateFunctionSolution"><code class="xref py py-class docutils literal notranslate"><span class="pre">CpoStateFunctionSolution</span></code></a> for state functions.</p></li>
</ul>
</div></blockquote>
</li>
</ul>
</div></blockquote>
<p>Look at <a class="reference internal" href="docplex.cp.solution.py.html"><span class="doc">solution.py</span></a> in the reference manual for details on what methods are available
for each object.</p>
<p>Many shortcuts are available to write simpler code.</p>
<blockquote>
<div><ul>
<li><p>The model solution object implements the method <em>__nonzero__()</em> and <em>__bool__()</em> (for Python 2 and 3)
which makes it possible to test directly if a solution is present.</p></li>
<li><p>A simplified Python value for each object is directly accessible by using square brackets (<em>msol[vname]</em>).
The result is:</p>
<blockquote>
<div><ul class="simple">
<li><p>an integer for integer variables,</p></li>
<li><p>a tuple (start, end, size) for interval variables or empty tuple () if it is absent,</p></li>
<li><p>a list of variable solutions for a sequence variable (each element is a <em>CpoIntervalVarSolution</em>), and</p></li>
<li><p>a list of tuples (start, end, value) for state functions.</p></li>
</ul>
</div></blockquote>
</li>
</ul>
</div></blockquote>
<p>The following code is an example of solution printing for the NQueen example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">sys</span> <span class="kn">import</span> <span class="n">stdout</span>
<span class="k">if</span> <span class="n">msol</span><span class="p">:</span>
    <span class="n">stdout</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s2">&quot;Solution:&quot;</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">x</span><span class="p">:</span>
        <span class="n">stdout</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s2">&quot; &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">msol</span><span class="p">[</span><span class="n">v</span><span class="p">]))</span>
    <span class="n">stdout</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="k">else</span><span class="p">:</span>
    <span class="n">stdout</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s2">&quot;Solve status: &quot;</span> <span class="o">+</span> <span class="n">msol</span><span class="o">.</span><span class="n">get_solve_status</span><span class="p">()</span> <span class="o">+</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>The different solution elements can be accessed directly by using the following attributes instead of the dedicated methods:</p>
<blockquote>
<div><ul class="simple">
<li><p><em>vars</em>: Dictionary of solutions of all variables.
Key is a variable name, and value is either <cite>CpoIntVarSolution</cite>, <cite>CpoIntervalVarSolution</cite>, <cite>CpoSequenceVarSolution</cite>, or <cite>CpoStateFunctionSolution</cite>.</p></li>
<li><p><em>parameters</em>: Map of solving parameters. Key is a parameter name, and value is a string, int, or float (not available when solving on DOcplexcloud).</p></li>
<li><p><em>infos</em>: Map of solving information. Key is an attribute name, and value is a string, int, or float. (not available when solving on DOcplexcloud).</p></li>
</ul>
</div></blockquote>
</section>
<section id="generate-cpo-file">
<h2>Generate CPO file<a class="headerlink" href="#generate-cpo-file" title="Permalink to this heading">&para;</a></h2>
<p>The generation of the CPO file corresponding to a model is made available by calling the method
<a class="reference internal" href="docplex.cp.model.py.html#docplex.cp.model.CpoModel.export_model" title="docplex.cp.model.CpoModel.export_model"><code class="xref py py-meth docutils literal notranslate"><span class="pre">export_model()</span></code></a>, as demonstrated in the following example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">mdl</span> <span class="o">=</span> <span class="n">CpoModel</span><span class="p">()</span>
<span class="o">.</span> <span class="o">.</span> <span class="o">.</span> <span class="o">.</span> <span class="o">.</span>
<span class="o">&lt;</span><span class="n">Construction</span> <span class="n">of</span> <span class="n">the</span> <span class="n">model</span><span class="o">&gt;</span>
<span class="o">.</span> <span class="o">.</span> <span class="o">.</span> <span class="o">.</span> <span class="o">.</span>
<span class="n">mdl</span><span class="o">.</span><span class="n">export_model</span><span class="p">()</span>
</pre></div>
</div>
<p>Following is the CPO format generated from the NQueen example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">///////////////////////////////////////////////////////////////////////////////</span>
<span class="o">//</span> <span class="n">CPO</span> <span class="n">file</span> <span class="n">generated</span> <span class="n">from</span><span class="p">:</span>
<span class="o">//</span> <span class="n">C</span><span class="p">:</span>\<span class="n">CPO</span>\<span class="n">Tests</span>\<span class="n">Workspace</span>\<span class="n">CpoPython</span>\<span class="n">Examples</span>\<span class="n">NQueen</span><span class="o">.</span><span class="n">py</span>
<span class="o">///////////////////////////////////////////////////////////////////////////////</span>

<span class="o">//---</span> <span class="n">Variables</span> <span class="o">---</span>
<span class="n">X0</span> <span class="o">=</span> <span class="n">intVar</span><span class="p">(</span><span class="mf">0..7</span><span class="p">);</span>
<span class="n">X1</span> <span class="o">=</span> <span class="n">intVar</span><span class="p">(</span><span class="mf">0..7</span><span class="p">);</span>
<span class="n">X2</span> <span class="o">=</span> <span class="n">intVar</span><span class="p">(</span><span class="mf">0..7</span><span class="p">);</span>
<span class="n">X3</span> <span class="o">=</span> <span class="n">intVar</span><span class="p">(</span><span class="mf">0..7</span><span class="p">);</span>
<span class="n">X4</span> <span class="o">=</span> <span class="n">intVar</span><span class="p">(</span><span class="mf">0..7</span><span class="p">);</span>
<span class="n">X5</span> <span class="o">=</span> <span class="n">intVar</span><span class="p">(</span><span class="mf">0..7</span><span class="p">);</span>
<span class="n">X6</span> <span class="o">=</span> <span class="n">intVar</span><span class="p">(</span><span class="mf">0..7</span><span class="p">);</span>
<span class="n">X7</span> <span class="o">=</span> <span class="n">intVar</span><span class="p">(</span><span class="mf">0..7</span><span class="p">);</span>

<span class="o">//---</span> <span class="n">Expressions</span> <span class="o">---</span>
<span class="n">alldiff</span><span class="p">([</span><span class="n">X0</span><span class="p">,</span> <span class="n">X1</span><span class="p">,</span> <span class="n">X2</span><span class="p">,</span> <span class="n">X3</span><span class="p">,</span> <span class="n">X4</span><span class="p">,</span> <span class="n">X5</span><span class="p">,</span> <span class="n">X6</span><span class="p">,</span> <span class="n">X7</span><span class="p">]);</span>
<span class="n">alldiff</span><span class="p">([</span><span class="n">X0</span> <span class="o">+</span> <span class="mi">0</span><span class="p">,</span> <span class="n">X1</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="n">X2</span> <span class="o">+</span> <span class="mi">2</span><span class="p">,</span> <span class="n">X3</span> <span class="o">+</span> <span class="mi">3</span><span class="p">,</span> <span class="n">X4</span> <span class="o">+</span> <span class="mi">4</span><span class="p">,</span> <span class="n">X5</span> <span class="o">+</span> <span class="mi">5</span><span class="p">,</span> <span class="n">X6</span> <span class="o">+</span> <span class="mi">6</span><span class="p">,</span> <span class="n">X7</span> <span class="o">+</span> <span class="mi">7</span><span class="p">]);</span>
<span class="n">alldiff</span><span class="p">([</span><span class="n">X0</span> <span class="o">-</span> <span class="mi">0</span><span class="p">,</span> <span class="n">X1</span> <span class="o">-</span> <span class="mi">1</span><span class="p">,</span> <span class="n">X2</span> <span class="o">-</span> <span class="mi">2</span><span class="p">,</span> <span class="n">X3</span> <span class="o">-</span> <span class="mi">3</span><span class="p">,</span> <span class="n">X4</span> <span class="o">-</span> <span class="mi">4</span><span class="p">,</span> <span class="n">X5</span> <span class="o">-</span> <span class="mi">5</span><span class="p">,</span> <span class="n">X6</span> <span class="o">-</span> <span class="mi">6</span><span class="p">,</span> <span class="n">X7</span> <span class="o">-</span> <span class="mi">7</span><span class="p">]);</span>

<span class="o">//---</span> <span class="n">Parameters</span> <span class="o">---</span>
<span class="o">//</span> <span class="kc">None</span>
</pre></div>
</div>
<section id="generation-options">
<h3>Generation options<a class="headerlink" href="#generation-options" title="Permalink to this heading">&para;</a></h3>
<p>The method <a class="reference internal" href="docplex.cp.model.py.html#docplex.cp.model.CpoModel.export_model" title="docplex.cp.model.CpoModel.export_model"><code class="xref py py-meth docutils literal notranslate"><span class="pre">export_model()</span></code></a> uses the following optional arguments :</p>
<blockquote>
<div><ul class="simple">
<li><p><cite>out</cite>: To specify an output file or stream instead of <cite>stdout</cite>.</p></li>
<li><p>all other arguments allowing to change the configuration, as for the method <a class="reference internal" href="docplex.cp.model.py.html#docplex.cp.model.CpoModel.solve" title="docplex.cp.model.CpoModel.solve"><code class="xref py py-meth docutils literal notranslate"><span class="pre">solve()</span></code></a>.</p></li>
</ul>
</div></blockquote>
<p>For example, the argument <code class="docutils literal notranslate"><span class="pre">short_output=True</span></code> generates a condensed form of the model, as follows:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">X_0</span> <span class="o">=</span> <span class="n">intVar</span><span class="p">(</span><span class="mf">0..7</span><span class="p">);</span>
<span class="n">X_1</span> <span class="o">=</span> <span class="n">intVar</span><span class="p">(</span><span class="mf">0..7</span><span class="p">);</span>
<span class="n">X_2</span> <span class="o">=</span> <span class="n">intVar</span><span class="p">(</span><span class="mf">0..7</span><span class="p">);</span>
<span class="n">X_3</span> <span class="o">=</span> <span class="n">intVar</span><span class="p">(</span><span class="mf">0..7</span><span class="p">);</span>
<span class="n">X_4</span> <span class="o">=</span> <span class="n">intVar</span><span class="p">(</span><span class="mf">0..7</span><span class="p">);</span>
<span class="n">X_5</span> <span class="o">=</span> <span class="n">intVar</span><span class="p">(</span><span class="mf">0..7</span><span class="p">);</span>
<span class="n">X_6</span> <span class="o">=</span> <span class="n">intVar</span><span class="p">(</span><span class="mf">0..7</span><span class="p">);</span>
<span class="n">X_7</span> <span class="o">=</span> <span class="n">intVar</span><span class="p">(</span><span class="mf">0..7</span><span class="p">);</span>
<span class="n">alldiff</span><span class="p">([</span><span class="n">X_0</span><span class="p">,</span> <span class="n">X_1</span><span class="p">,</span> <span class="n">X_2</span><span class="p">,</span> <span class="n">X_3</span><span class="p">,</span> <span class="n">X_4</span><span class="p">,</span> <span class="n">X_5</span><span class="p">,</span> <span class="n">X_6</span><span class="p">,</span> <span class="n">X_7</span><span class="p">]);</span>
<span class="n">alldiff</span><span class="p">([</span><span class="n">X_0</span> <span class="o">+</span> <span class="mi">0</span><span class="p">,</span> <span class="n">X_1</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="n">X_2</span> <span class="o">+</span> <span class="mi">2</span><span class="p">,</span> <span class="n">X_3</span> <span class="o">+</span> <span class="mi">3</span><span class="p">,</span> <span class="n">X_4</span> <span class="o">+</span> <span class="mi">4</span><span class="p">,</span> <span class="n">X_5</span> <span class="o">+</span> <span class="mi">5</span><span class="p">,</span> <span class="n">X_6</span> <span class="o">+</span> <span class="mi">6</span><span class="p">,</span> <span class="n">X_7</span> <span class="o">+</span> <span class="mi">7</span><span class="p">]);</span>
<span class="n">alldiff</span><span class="p">([</span><span class="n">X_0</span> <span class="o">-</span> <span class="mi">0</span><span class="p">,</span> <span class="n">X_1</span> <span class="o">-</span> <span class="mi">1</span><span class="p">,</span> <span class="n">X_2</span> <span class="o">-</span> <span class="mi">2</span><span class="p">,</span> <span class="n">X_3</span> <span class="o">-</span> <span class="mi">3</span><span class="p">,</span> <span class="n">X_4</span> <span class="o">-</span> <span class="mi">4</span><span class="p">,</span> <span class="n">X_5</span> <span class="o">-</span> <span class="mi">5</span><span class="p">,</span> <span class="n">X_6</span> <span class="o">-</span> <span class="mi">6</span><span class="p">,</span> <span class="n">X_7</span> <span class="o">-</span> <span class="mi">7</span><span class="p">]);</span>
</pre></div>
</div>
</section>
<section id="get-the-cp-optimizer-model-as-a-string">
<h3>Get the CP Optimizer model as a string<a class="headerlink" href="#get-the-cp-optimizer-model-as-a-string" title="Permalink to this heading">&para;</a></h3>
<p>The CPO formatted model can also be retrieved as a string by using the method
<a class="reference internal" href="docplex.cp.model.py.html#docplex.cp.model.CpoModel.get_cpo_string" title="docplex.cp.model.CpoModel.get_cpo_string"><code class="xref py py-meth docutils literal notranslate"><span class="pre">get_cpo_string()</span></code></a>.
As for method <a class="reference internal" href="docplex.cp.model.py.html#docplex.cp.model.CpoModel.export_model" title="docplex.cp.model.CpoModel.export_model"><code class="xref py py-meth docutils literal notranslate"><span class="pre">export_model()</span></code></a>, same arguments than in the
method <a class="reference internal" href="docplex.cp.model.py.html#docplex.cp.model.CpoModel.solve" title="docplex.cp.model.CpoModel.solve"><code class="xref py py-meth docutils literal notranslate"><span class="pre">solve()</span></code></a> can be used.</p>
</section>
</section>
</section>
<section id="advanced-configuration">
<h1>Advanced configuration<a class="headerlink" href="#advanced-configuration" title="Permalink to this heading">&para;</a></h1>
<p>The configuration of <em>docplex.cp</em> is based on the object class <a class="reference internal" href="docplex.cp.utils.py.html#docplex.cp.utils.Context" title="docplex.cp.utils.Context"><code class="xref py py-class docutils literal notranslate"><span class="pre">Context</span></code></a> that allows to
group attributes in a hierarchical way.</p>
<p>An object of the class <a class="reference internal" href="docplex.cp.utils.py.html#docplex.cp.utils.Context" title="docplex.cp.utils.Context"><code class="xref py py-class docutils literal notranslate"><span class="pre">Context</span></code></a> has the following characteristics:</p>
<blockquote>
<div><ul class="simple">
<li><p>It can contain an unlimited number of named attributes that can be easily addressed directly with the Python &#8216;.&#8217; operator.</p></li>
<li><p>An attribute can itself be a <a class="reference internal" href="docplex.cp.utils.py.html#docplex.cp.utils.Context" title="docplex.cp.utils.Context"><code class="xref py py-class docutils literal notranslate"><span class="pre">Context</span></code></a>, enabling a hierarchical representation of attributes.</p></li>
<li><p>When an attribute does not exist, it is inherited from the parent <a class="reference internal" href="docplex.cp.utils.py.html#docplex.cp.utils.Context" title="docplex.cp.utils.Context"><code class="xref py py-class docutils literal notranslate"><span class="pre">Context</span></code></a>, if any.</p></li>
<li><p>If an attribute is not found, the value <em>None</em> is returned by default.</p></li>
</ul>
</div></blockquote>
<section id="api-configuration">
<h2>API configuration<a class="headerlink" href="#api-configuration" title="Permalink to this heading">&para;</a></h2>
<p>The default configuration of <em>docplex.cp</em> is accessible using the variable <em>context</em>, which is initialized
in the module <a class="reference internal" href="docplex.cp.config.py.html#module-docplex.cp.config" title="docplex.cp.config"><code class="xref py py-mod docutils literal notranslate"><span class="pre">docplex.cp.config</span></code></a>.</p>
<p><strong>This module should not be edited directly</strong>.
Use the procedure in the next section to change configuration parameters.</p>
<p>The default configuration context is organized as follows :</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">context</span>            <span class="c1"># General parameters</span>
   <span class="n">model</span>           <span class="c1"># Parameters related to model file generation</span>
   <span class="n">params</span>          <span class="c1"># Solving parameters (of type :class:`~docplex.cp.parameters.CpoParameters`, subclass of :class:`~docplex.cp.utils.Context`)</span>
   <span class="n">solver</span>          <span class="c1"># Parameters of the solving in general</span>
      <span class="n">local</span>        <span class="c1"># Parameters related to local solve with CP Optimizer Interactive</span>
</pre></div>
</div>
</section>
<section id="change-the-default-configuration">
<h2>Change the default configuration<a class="headerlink" href="#change-the-default-configuration" title="Permalink to this heading">&para;</a></h2>
<p>The default configuration can be easily customized in multiple ways:</p>
<blockquote>
<div><ul class="simple">
<li><p>by setting a configuration attribute directly with Python code,</p></li>
<li><p>when calling some methods such as <a class="reference internal" href="docplex.cp.model.py.html#docplex.cp.model.CpoModel.solve" title="docplex.cp.model.CpoModel.solve"><code class="xref py py-meth docutils literal notranslate"><span class="pre">solve()</span></code></a> (see above),</p></li>
<li><p>statically, by creating customized configuration file(s).</p></li>
</ul>
</div></blockquote>
<p>Setting an attribute with Python code is very simple, as in the following example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">docplex.cp.config</span> <span class="kn">import</span> <span class="n">context</span>
<span class="n">context</span><span class="o">.</span><span class="n">params</span><span class="o">.</span><span class="n">TimeLimit</span> <span class="o">=</span> <span class="mi">100</span>
</pre></div>
</div>
<p>To change the configuration in a persistent way, following customized configuration files can be created at any place
that is visible in the <code class="docutils literal notranslate"><span class="pre">PYTHONPATH</span></code> (for example with the modeling sources):</p>
<blockquote>
<div><ul class="simple">
<li><p><cite>cpo_config.py</cite></p></li>
<li><p><cite>cpo_config_&lt;your hostname&gt;.py</cite> if you want changes to be done only on specific host(s).</p></li>
</ul>
</div></blockquote>
<p>If present, these modules are loaded <em>in this order</em> to overwrite the default configuration values.</p>
<p>In these files, changing a configuration attribute is done as in normal Python source, except that the
instruction <code class="docutils literal notranslate"><span class="pre">from</span> <span class="pre">docplex.cp.config</span> <span class="pre">import</span> <span class="pre">context</span></code> is already done.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">context</span><span class="o">.</span><span class="n">solver</span><span class="o">.</span><span class="n">trace_cpo</span> <span class="o">=</span> <span class="kc">True</span>
<span class="n">context</span><span class="o">.</span><span class="n">solver</span><span class="o">.</span><span class="n">trace_log</span> <span class="o">=</span> <span class="kc">False</span>
<span class="n">context</span><span class="o">.</span><span class="n">params</span><span class="o">.</span><span class="n">LogPeriod</span> <span class="o">=</span> <span class="mi">5000</span>
</pre></div>
</div>
<p>These files are evaluated inside the module <em>config.py</em>.
You must then <strong>not</strong> add any import statement to <cite>docplex.cp.config</cite> inside them.</p>
</section>
<section id="display-current-configuration">
<h2>Display current configuration<a class="headerlink" href="#display-current-configuration" title="Permalink to this heading">&para;</a></h2>
<p>To display the configuration that includes all the updates that are made using specialized modules,
directly run the module <a class="reference internal" href="docplex.cp.config.py.html#module-docplex.cp.config" title="docplex.cp.config"><code class="xref py py-mod docutils literal notranslate"><span class="pre">docplex.cp.config</span></code></a>.
The configuration details are printed on standard output.</p>
<p>Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;</span> <span class="n">python</span> <span class="n">config</span><span class="o">.</span><span class="n">py</span>

<span class="n">log_output</span> <span class="o">=</span> <span class="o">&lt;</span><span class="nb">open</span> <span class="n">file</span> <span class="s1">&#39;&lt;stdout&gt;&#39;</span><span class="p">,</span> <span class="n">mode</span> <span class="s1">&#39;w&#39;</span> <span class="n">at</span> <span class="mh">0x00000000023B20C0</span><span class="o">&gt;</span>
<span class="n">visu_enabled</span> <span class="o">=</span> <span class="kc">True</span>
<span class="n">model</span> <span class="o">=</span>
   <span class="n">add_source_location</span> <span class="o">=</span> <span class="kc">True</span>
   <span class="n">dump_directory</span> <span class="o">=</span> <span class="s2">&quot;/Tmp/cpo&quot;</span>
   <span class="n">trace_cpo</span> <span class="o">=</span> <span class="kc">False</span>
<span class="n">params</span> <span class="o">=</span>
   <span class="n">TimeLimit</span> <span class="o">=</span> <span class="mi">100</span>
   <span class="n">Workers</span> <span class="o">=</span> <span class="mi">4</span>
<span class="n">solver</span> <span class="o">=</span>
   <span class="n">add_log_to_solution</span> <span class="o">=</span> <span class="kc">True</span>
   <span class="n">agent</span> <span class="o">=</span> <span class="n">local</span>
   <span class="n">enable_undocumented_params</span> <span class="o">=</span> <span class="kc">False</span>
   <span class="n">log_prefix</span> <span class="o">=</span> <span class="s2">&quot;[Solver] &quot;</span>
   <span class="n">local</span> <span class="o">=</span>
      <span class="n">class_name</span> <span class="o">=</span> <span class="s2">&quot;docplex.cp.solver.solver_local.CpoSolverLocal&quot;</span>
      <span class="n">execfile</span> <span class="o">=</span> <span class="s2">&quot;cpoptimizer.exe&quot;</span>
      <span class="n">log_prefix</span> <span class="o">=</span> <span class="s2">&quot;[Local] &quot;</span>
      <span class="n">parameters</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;-angel&#39;</span><span class="p">]</span>
<span class="o">.</span> <span class="o">.</span> <span class="o">.</span> <span class="o">.</span> <span class="o">.</span>
</pre></div>
</div>
</section>
<section id="configuration-attributes">
<h2>Configuration attributes<a class="headerlink" href="#configuration-attributes" title="Permalink to this heading">&para;</a></h2>
<p>The following is a summary of the most representative configuration parameters.
The complete list of parameters with their detailed description is given in the module <a class="reference internal" href="docplex.cp.config.py.html#module-docplex.cp.config" title="docplex.cp.config"><code class="xref py py-mod docutils literal notranslate"><span class="pre">docplex.cp.config</span></code></a></p>
<p><em>context.log_output</em></p>
<blockquote>
<div><p>Default log stream.</p>
</div></blockquote>
<p><em>context.model.version</em></p>
<blockquote>
<div><p>Version of the CPO format that is used to transmit the model to the solver.
This attribute is used only if no explicit version is given when building the model.
By default, its value is None, meaning that latest format is used, without specifying it explicitly.</p>
</div></blockquote>
<p><em>context.model.add_source_location</em></p>
<blockquote>
<div><p>Indicates that when the model is transformed into CPO format,
additional information is added to correlate expressions with the Python file and line where it has been generated.</p>
</div></blockquote>
<p><em>context.model.dump_directory</em></p>
<blockquote>
<div><p>Name of a directory where the CPO files that are generated for solving models
are stored for logging purpose.</p>
</div></blockquote>
<p><em>context.params.*</em></p>
<blockquote>
<div><p>Instance of the class
<a class="reference internal" href="docplex.cp.parameters.py.html#docplex.cp.parameters.CpoParameters" title="docplex.cp.parameters.CpoParameters"><code class="xref py py-class docutils literal notranslate"><span class="pre">CpoParameters</span></code></a> (in <a class="reference internal" href="docplex.cp.parameters.py.html"><span class="doc">parameters.py</span></a>),
which describes all of the public solver parameters as properties.</p>
</div></blockquote>
<p><em>context.solver.trace_cpo</em></p>
<blockquote>
<div><p>Indicates to trace the CPO model that is generated before submitting it for solving.</p>
</div></blockquote>
<p><em>context.solver.trace_log</em></p>
<blockquote>
<div><p>Indicates to trace the log generated by the solver when solving the CPO model.</p>
</div></blockquote>
<p><em>context.solver.add_log_to_solution</em></p>
<blockquote>
<div><p>Indicates to include the solver log content to the solution object.</p>
</div></blockquote>
<p><em>context.solver.agent</em></p>
<blockquote>
<div><p>Name of the solving agent to be used for solving the model (<em>local</em> by default).</p>
</div></blockquote>
<p><em>context.solver.local.execfile</em></p>
<blockquote>
<div><p>Name or full path of the CP Optimizer Interactive executable file.
By default, it is set to <em>cpoptimizer(.exe)</em>, which supposes that the program is searched dynamically
when needed, if visible from the system path.
In this case, when found in the path, this attribute value is replaced by the full path of the executable.</p>
</div></blockquote>
</section>
</section>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <div>
    <h3><a href="index.html">Table of Contents</a></h3>
    <ul>
<li><a class="reference internal" href="#">Creating a constraint programming model</a><ul>
<li><a class="reference internal" href="#build-model-expressions">Build model expressions</a><ul>
<li><a class="reference internal" href="#mapping-of-python-objects-to-cp-optimizer-objects">Mapping of Python objects to CP Optimizer objects</a></li>
<li><a class="reference internal" href="#special-function-renaming">Special function renaming</a></li>
<li><a class="reference internal" href="#operator-overloading">Operator overloading</a></li>
</ul>
</li>
<li><a class="reference internal" href="#build-a-model">Build a model</a><ul>
<li><a class="reference internal" href="#quickest-modeling-approach">Quickest modeling approach</a></li>
<li><a class="reference internal" href="#use-module-as-a-factory">Use module as a factory</a></li>
<li><a class="reference internal" href="#use-model-object-as-a-factory">Use model object as a factory</a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#solving-a-model">Solving a model</a><ul>
<li><a class="reference internal" href="#solve-a-model-with-local-solver">Solve a model with local solver</a><ul>
<li><a class="reference internal" href="#solving-options">Solving options</a></li>
<li><a class="reference internal" href="#solving-parameters">Solving parameters</a></li>
</ul>
</li>
<li><a class="reference internal" href="#retrieve-results">Retrieve results</a></li>
<li><a class="reference internal" href="#generate-cpo-file">Generate CPO file</a><ul>
<li><a class="reference internal" href="#generation-options">Generation options</a></li>
<li><a class="reference internal" href="#get-the-cp-optimizer-model-as-a-string">Get the CP Optimizer model as a string</a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#advanced-configuration">Advanced configuration</a><ul>
<li><a class="reference internal" href="#api-configuration">API configuration</a></li>
<li><a class="reference internal" href="#change-the-default-configuration">Change the default configuration</a></li>
<li><a class="reference internal" href="#display-current-configuration">Display current configuration</a></li>
<li><a class="reference internal" href="#configuration-attributes">Configuration attributes</a></li>
</ul>
</li>
</ul>

  </div>
  <div>
    <h4>Previous topic</h4>
    <p class="topless"><a href="getting_started.html"
                          title="previous chapter">Getting started with constraint programming in DOcplex</a></p>
  </div>
  <div>
    <h4>Next topic</h4>
    <p class="topless"><a href="samples.html"
                          title="next chapter">Examples of constraint programming</a></p>
  </div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>document.getElementById('searchbox').style.display = "block"</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="samples.html" title="Examples of constraint programming"
             >next</a> |</li>
        <li class="right" >
          <a href="getting_started.html" title="Getting started with constraint programming in DOcplex"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">DOcplex.CP: Constraint Programming Modeling for Python V2.28 documentation</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">Creating a constraint programming model</a></li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
    &#169; Copyright 2022, IBM.
    </div>
  </body>
</html>